{"version":3,"sources":["../node_modules/form-data/lib/browser.js","components/template/FilterLabel.jsx","modules/templates/components/Template.jsx","modules/templates/containers/addTemplate.jsx","redux/salary/actions/viewSalary.js","../node_modules/material-ui/Divider/index.js","../node_modules/material-ui/LinearProgress/index.js","../node_modules/material-ui/Divider/Divider.js","../node_modules/material-ui/LinearProgress/LinearProgress.js","redux/templates/actions/templates.js"],"names":["module","exports","self","FormData","window","FilterLabel","_ref","data","onClick","onClear","handleOnClick","label","index","child","forEach","react_default","a","createElement","key","className","name","length","style","backgroundColor","textTransform","PropTypes","array","func","require","moment","Variables","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onIsAlreadyLogin","state","usersList","openDialog","templateId","templateName","templateSubject","templateBody","RichTextEditor","createEmptyValue","errName","errSubject","pValue","openSendMailDialog","recipient","cc","bcc","recipientType","openVarDialog","openPreview","sentMail","recipientEmailId","recipientNotFound","emailValidationError","upload_file","uploadedPDF","LinearProgressBar","header","openCreateTemplate","bind","assertThisInitialized","handleCloseDialog","handleCloseDialog1","saveTemplate","editTemplate","deleteTemplate","forwardTemplate","onClickLabel","handleContentChange","sendMail","applyVariables","handleClose","setVariable","openMailPreview","closeMailPreview","submitEmail","hideError","download_mail_preview","uploadPDF","deleteAttachment","variables","scrollTo","loggedUser","isLoggedIn","role","CONFIG","ADMIN","HR","history","push","setState","employee","_this2","t_id","trim","t_name","t_subject","t_body","toString","_","isEmpty","onSaveTemplate","then","succ","showError","catch","err","tmp","id","subject","createValueFromString","body","_this3","confirm","res","onDeleteTemplate","templ","str","value","undefined","indexOf","no_lines","split","replace","i","_this4","map","templates","clone","user_Id","find","o","format","concat","match","uniq","dateVariable","variable","variable_type","replaceVariablesWithValue","includes","Date","dateofjoining","jobtitle","salary_detail","username","work_email","emergency_ph1","mydate","training_completion_date","termination_date","back","front","$","toggle","searchText","list","user","toLowerCase","status","arguments","pullAllBy","email","selectUser","indexLabel","e","currentTimeStamp","unix","onDownloadPdf","html","link","document","href","pdf_url","message","target","appendChild","click","errorMsg","remove","fadeIn","append","preventDefault","fadeOut","error","result","pendingVariables","start_pos","end_pos","defaultValue","substring","cc_detail","bcc_detail","email_id","_this5","files","onSendMail","_this6","template","file_data","prop","form_data","getToken","LinearProgress_default","mode","ajax","url","upload_email_attachment","contentType","processData","type","success","obj","JSON","parse","upload_file_path","file","path","filekey","newuploadedPDF","newupload_file_path","k","_this7","fileList","actionsCreateTemplate","FlatButton_default","primary","RaisedButton_default","actionsSendMail","listChartItems","check","filter","matches","checked","onChange","pendingVar","marginTop","float","Dialog_default","title","actions","modal","bodyStyle","minHeight","contentStyle","maxWidth","width","transform","open","onRequestClose","autoDetectWindowHeight","autoScrollBodyContent","LoadingIcon","TextField_default","ref","floatingLabelText","floatingLabelFixed","hintText","fullWidth","errorText","react_rte_default","Divider_default","vari","paddingTop","paddingRight","textAlign","aria-label","paper","Paper_default","zDepth","fontSize","fontStyle","color","cursor","padding","toggleDialog","aria-hidden","display","opacity","dangerouslySetInnerHTML","__html","bodyClassName","contentClassName","marginRight","titleClassName","fontWeight","textDecoration","paddingLeft","placeholder","onKeyUp","filterList","template_FilterLabel","onclearFilter","disabled","readOnly","action","method","encType","multiple","React","Component","TemplateContainer","onFetchUserSalaryDetails","onFetchTemplate","onFetchVariables","isNotValid","isNotUserValid","redirectTo","Menu","Header","assign","pageTitle","Template","VisibleTemplateContainer","connect","frontend","toJS","logged_user","userLogin","empSalaryList","dispatch","actions_templates","fileName","actions_salary","RouterVisibleTemplateContainer","withRouter","__webpack_require__","d","__webpack_exports__","getSalaryDetails","fetchUserSalaryDetails","redux_actions__WEBPACK_IMPORTED_MODULE_0__","_services_index__WEBPACK_IMPORTED_MODULE_3__","_redux_generic_actions_frontend__WEBPACK_IMPORTED_MODULE_5__","_redux_constants__WEBPACK_IMPORTED_MODULE_6__","success_salary_details","createAction","constants","getState","Promise","resolve","reject","show_loading","fireAjax","json","hide_loading","console","log","salary_details","empty__user_salary_details","defineProperty","default","_Divider","_Divider2","__esModule","_LinearProgress","_LinearProgress2","_extends3","_interopRequireDefault","_objectWithoutProperties3","_simpleAssign2","_react2","_propTypes2","Divider","context","inset","other","_context$muiTheme","muiTheme","baseTheme","prepareStyles","styles","root","margin","marginLeft","height","border","palette","borderColor","muiName","propTypes","defaultProps","contextTypes","object","isRequired","_getPrototypeOf2","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_react","_transitions2","getStyles","max","min","borderRadius","position","primary3Color","overflow","bar","barFragment1","barFragment2","primary1Color","top","left","bottom","transition","create","clampedValue","Math","rangeValue","round","getRelativeValue","LinearProgress","_Component","__proto__","apply","timers","bar1","barUpdate","refs","bar2","setTimeout","clearTimeout","step","barElement","stepValues","timeToNextStep","right","isRtl","transitionDuration","_props","saveVariable","get_variable","deleteVariable","get_templates","save_templates","delete_template","send_mail","download_pdf","lodash__WEBPACK_IMPORTED_MODULE_0__","redux_actions__WEBPACK_IMPORTED_MODULE_1__","_redux_constants__WEBPACK_IMPORTED_MODULE_4__","success_add_variable","error_add_varaible","varCode","varValue","varType","async_saveVariable","async_editVariable","success_variable_get","async_delete_variable","success_get_template","async_save_template","async_update_template","async_delete_template","async_send_mail","file_name","async_download_template"],"mappings":"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","file":"static/js/36.e6902730.chunk.js","sourcesContent":["/* eslint-env browser */\nmodule.exports = typeof self == 'object' ? self.FormData : window.FormData;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {forEach} from 'lodash';\n\nconst FilterLabel = ({data, onClick, onClear}) => {\n  const handleOnClick = (label, index) => {\n    onClick && onClick(label, index);\n  };\n\n  const clearFilter = () => {\n    onClear && onClear();\n  };\n\n  var child = [];\n  data && forEach(data, (label, index) => {\n    child[index] =\n      <span key={index} className=\"filter-label label label-info\">\n        <a className=\"filter-remove\" onClick={() => handleOnClick(label, index)}>\n          <i className=\"fa fa-times\"></i>\n        </a>\n        <span className=\"option-name\">{label.name}</span>\n      </span>;\n  });\n\n  return (\n    <div>\n      {child}\n      {data.length > 0 && onClear &&\n        <a onClick={() => clearFilter()} className={'filter-label label label-info clear-all'} style={{backgroundColor: '#747474'}}>\n          Clear <span style={{'textTransform': 'lowercase'}}>all</span>\n        </a>}\n    </div>\n  );\n};\n\nFilterLabel.PropTypes = {\n  data:    PropTypes.array,\n  onClick: PropTypes.func,\n  onClear: PropTypes.func\n};\n\nexport default FilterLabel;\n","import React from 'react';\nimport _ from 'lodash';\nimport {connect} from 'react-redux';\nimport RichTextEditor from 'react-rte';\n// import update from 'react/lib/update';\nimport Paper from 'material-ui/Paper';\nimport {CONFIG} from '../../../config/index';\nimport Dialog from 'material-ui/Dialog';\nimport Divider from 'material-ui/Divider';\nimport {confirm} from '../../../services/notify';\nimport TextField from 'material-ui/TextField';\nimport FlatButton from 'material-ui/FlatButton';\nimport IconButton from 'material-ui/IconButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport LinearProgress from 'material-ui/LinearProgress';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport LoadingIcon from '../../../components/generic/LoadingIcon';\n// import EditableDiv from '../../../components/editor/EditableDiv';\nimport FilterLabel from '../../../components/template/FilterLabel';\nimport {getToken} from '../../../services/generic';\nimport $ from 'jquery';\nvar FormData = require('form-data');\nvar moment = require('moment');\n\nclass Variables extends React.Component {\n  constructor (props) {\n    super(props);\n    this.props.onIsAlreadyLogin();\n    this.state = {\n      usersList:            [],\n      openDialog:           false,\n      templateId:           '',\n      templateName:         '',\n      templateSubject:      '',\n      templateBody:         RichTextEditor.createEmptyValue(),\n      errName:              '',\n      errSubject:           '',\n      pValue:               [],\n      openSendMailDialog:   false,\n      recipient:            [],\n      cc:                   [],\n      bcc:                  [],\n      recipientType:        'Recipient',\n      openVarDialog:        false,\n      openPreview:          false,\n      sentMail:             {},\n      recipientEmailId:     '',\n      recipientNotFound:    false,\n      emailValidationError: '',\n      upload_file:          [],\n      uploadedPDF:          [],\n      LinearProgressBar:    [],\n      header:               ''\n    };\n\n    this.openCreateTemplate = this.openCreateTemplate.bind(this);\n    this.handleCloseDialog = this.handleCloseDialog.bind(this);\n    this.handleCloseDialog1 = this.handleCloseDialog1.bind(this);\n    this.saveTemplate = this.saveTemplate.bind(this);\n    this.editTemplate = this.editTemplate.bind(this);\n    this.deleteTemplate = this.deleteTemplate.bind(this);\n    this.forwardTemplate = this.forwardTemplate.bind(this);\n    this.onClickLabel = this.onClickLabel.bind(this);\n    this.handleContentChange = this.handleContentChange.bind(this);\n    this.sendMail = this.sendMail.bind(this);\n    this.applyVariables = this.applyVariables.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.setVariable = this.setVariable.bind(this);\n    this.openMailPreview = this.openMailPreview.bind(this);\n    this.closeMailPreview = this.closeMailPreview.bind(this);\n    this.submitEmail = this.submitEmail.bind(this);\n    this.hideError = this.hideError.bind(this);\n    this.download_mail_preview = this.download_mail_preview.bind(this);\n    this.uploadPDF = this.uploadPDF.bind(this);\n    this.deleteAttachment = this.deleteAttachment.bind(this);\n    this.variables = [];\n  }\n  componentWillReceiveProps (props) {\n    window.scrollTo(0, 0);\n    if (!props.loggedUser.isLoggedIn) {\n      this.props.history.push('/logout');\n    } else {\n      if (props.loggedUser.data.role == CONFIG.ADMIN || props.loggedUser.data.role == CONFIG.HR) {\n      } else {\n        this.props.history.push('/home');\n      }\n    }\n    this.setState({usersList: props.employee.employee});\n  }\n\n  saveTemplate () {\n    let t_id = this.state.templateId.trim(),\n      t_name = this.state.templateName.trim(),\n      t_subject = this.state.templateSubject.trim(),\n      t_body = this.state.templateBody.toString('html'),\n      errName = '',\n      errSubject = '';\n    if (_.isEmpty(t_name)) {\n      errName = 'Name empty';\n    }\n    if (_.isEmpty(t_subject)) {\n      errSubject = 'Subject empty';\n    }\n    this.setState({errName: errName, errSubject: errSubject});\n    if (!_.isEmpty(t_name) && !_.isEmpty(t_subject) && !_.isEmpty(t_body)) {\n      this.props.onSaveTemplate(t_id, t_name, t_subject, t_body).then((succ) => {\n        this.showError('mailsentsuccessfully', succ);\n        this.handleCloseDialog();\n      }).catch((err) => {\n        this.showError('previewalert', err);\n      });\n    }\n  }\n  editTemplate (tmp) {\n    this.setState({\n      openDialog:      true,\n      templateId:      tmp.id,\n      templateName:    tmp.name,\n      templateSubject: tmp.subject,\n      templateBody:    RichTextEditor.createValueFromString(tmp.body, 'html')\n    });\n  }\n  deleteTemplate (tmp) {\n    confirm('Are you sure ?', 'Do you want to delete this template', 'warning').then((res) => {\n      if (res) {\n        this.props.onDeleteTemplate(tmp.id).then(() => {\n        }).catch((err) => {\n          this.showError('previewalert', err);\n        });\n      }\n    });\n  }\n\n  replaceVariablesWithValue (templ, str, value) {\n    if (value !== undefined) {\n      if (value.indexOf('<p>') > -1) {\n        let no_lines = value.split('\\n').length;\n        if (no_lines > 1) {\n          value = value.replace(/<p/img, '<div');\n          value = value.replace(/<\\/p/img, '</div');\n        } else {\n          value = value.replace(/(<p[^>]+?>|<p>|<\\/p>)/img, '');\n        }\n      }\n      var index = templ.body.indexOf(str);\n      var i;\n      for (i = 0; i <= 20; i++) {\n        if (templ.body.indexOf(str) === -1) {\n          break;\n        }\n        templ.body = _.replace(templ.body, str, value);\n      }\n      templ.name = _.replace(templ.name, str, value);\n      templ.subject = _.replace(templ.subject, str, value);\n    }\n    return templ;\n  }\n  applyVariables (templateId) {\n    let templ = '', recipient = '';\n    _.map(this.props.templates.templates, (tmp, i) => {\n      if (tmp.id === templateId) {\n        templ = _.clone(tmp);\n      }\n    });\n\n    if (this.state.recipient.length > 0) {\n      let id = this.state.recipient[0].user_Id;\n      recipient = _.find(this.state.usersList, function (o) { return o.user_Id == id; });\n    }\n\n    let format = 'DD-MM-YYYY';\n    let string = templ.name.concat(' ', templ.subject, ' ', templ.body);\n    let regx = /#[\\w\\/|-]*/g;\n    let variables = string.match(regx);\n    if (variables !== null && variables.length > 0) {\n      variables = _.uniq(variables);\n      variables.map((str, i) => {\n        let dateVariable = false;\n        if (str.indexOf('|') !== -1) {\n          dateVariable = str;\n          let res = str.split('|');\n          str = res[0];\n          format = res[1];\n        }\n\n        let variable = _.find(this.props.templates.variable, function (o) { return o.name == str; });\n\n        if (typeof variable !== 'undefined' && variable.name === str) {\n          if (variable.variable_type === 'user' || variable.name === '#logo') {\n            templ = this.replaceVariablesWithValue(templ, str, variable.value);\n          }\n\n          if (_.includes(variable.name, '#date')) {\n            let value = new Date();\n            value = moment(value).format(format);\n            if (dateVariable === false) {\n              templ = this.replaceVariablesWithValue(templ, str, value);\n            } else {\n              templ = this.replaceVariablesWithValue(templ, dateVariable, value);\n            }\n          }\n          if (variable.variable_type === 'system' && !_.isEmpty(recipient) && !_.includes(variable.name, '#date')) {\n            let value;\n            if (variable.name === '#joining_date') {\n              value = recipient.dateofjoining;\n              value = moment(value).format(format);\n            } else if (variable.name === '#employee_title') {\n              value = recipient.jobtitle;\n            } else if (variable.name === '#employee_name') {\n              value = recipient.name;\n            } else if (variable.name === '#salary') {\n              value = recipient.salary_detail;\n              value = value.toString();\n            } else if (variable.name === '#employee_user_name') {\n              value = recipient.username;\n            } else if (variable.name === '#employee_email_id') {\n              value = recipient.work_email;\n            } else if (variable.name === '#page_break') {\n              value = variable.value; //\"<div style='page-break-after:always;'></div>\";\n            } else if (variable.name === '#employee_user_id') {\n              value = recipient.user_Id;\n            } else if (variable.name === '#employee_number') {\n              value = recipient.emergency_ph1;\n            } else if (variable.name === '#training_completion_date') {\n              var mydate = new Date(recipient.training_completion_date);\n              if (mydate !== 'Invalid Date') {\n                value = moment(mydate).format(format);\n              } else {\n                value = '#training_completion_date';\n              }\n            } else if (variable.name == '#termination_date') {\n              mydate = new Date(recipient.termination_date);\n              if (mydate != 'Invalid Date') {\n                value = moment(mydate).format(format);\n              } else {\n                value = '#termination_date';\n              }\n            }\n            if (dateVariable === false) {\n              templ = this.replaceVariablesWithValue(templ, str, value);\n            } else {\n              templ = this.replaceVariablesWithValue(templ, dateVariable, value);\n            }\n          }\n        }\n      });\n    }\n\n    this.setState({\n      templateName:    templ.name,\n      templateSubject: templ.subject,\n      templateBody:    RichTextEditor.createValueFromString(templ.body, 'html')\n    });\n  }\n  forwardTemplate (tmp) {\n    this.setState({\n      openSendMailDialog: true,\n      templateId:         tmp.id,\n      templateName:       tmp.name,\n      templateSubject:    tmp.subject,\n      templateBody:       RichTextEditor.createValueFromString(tmp.body, 'html'),\n      uploadedPDF:        [],\n      upload_file:        []\n    });\n    this.applyVariables(tmp.id);\n  }\n  openCreateTemplate () {\n    this.setState({openDialog: true});\n  }\n  handleCloseDialog () {\n    this.setState({\n      openDialog:         false,\n      templateId:         '',\n      templateName:       '',\n      templateSubject:    '',\n      templateBody:       RichTextEditor.createEmptyValue(),\n      errName:            '',\n      errSubject:         '',\n      openSendMailDialog: false,\n      recipient:          []\n    });\n  }\n  handleCloseDialog1 () {\n    this.setState({\n      openDialog:         false,\n      templateId:         '',\n      templateName:       '',\n      templateSubject:    '',\n      templateBody:       RichTextEditor.createEmptyValue(),\n      errName:            '',\n      errSubject:         '',\n      openSendMailDialog: false,\n      recipient:          [],\n      uploadedPDF:        []\n    });\n  }\n  toggleDialog (back, front) {\n    $('#' + back).toggle();\n    $('#' + front).toggle();\n  }\n  filterList (searchText) {\n    let usersList = this.props.employee.employee, // this.props.usersList.users,\n      list = [];\n    usersList.map((user) => {\n      if (user.name.toLowerCase().indexOf(searchText) !== -1) {\n        list.push(user);\n      }\n    });\n    this.setState({usersList: list});\n  }\n  selectUser (data, status, recipientType = this.state.recipientType) {\n    if (recipientType === 'Recipient') {\n      let recipient = this.state.recipient;\n        // status ? recipient.push(data) : _.pullAllBy(recipient, [data], 'user_Id');\n      status ? recipient[0] = data : _.pullAllBy(recipient, [data], 'email');\n      this.setState({recipient: recipient});\n      this.applyVariables(this.state.templateId);\n    } else if (recipientType === 'CC') {\n      let recipient = this.state.cc;\n      status ? recipient.push(data) : _.pullAllBy(recipient, [data], 'user_Id');\n      this.setState({cc: recipient});\n    } else if (recipientType === 'BCC') {\n      let recipient = this.state.bcc;\n      status ? recipient.push(data) : _.pullAllBy(recipient, [data], 'user_Id');\n      this.setState({bcc: recipient});\n    }\n  }\n\n  submitEmail (email) {\n    var pattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n    email = email.trim();\n    if (_.isEmpty(email)) {\n      this.setState({emailValidationError: 'Empty field'});\n    } else if (!email.match(pattern)) {\n      this.setState({emailValidationError: 'Not a valid email'});\n    } else {\n      this.setState({emailValidationError: '', recipientEmailId: ''});\n      this.selectUser({user_Id: '#', name: email, email: email}, true, this.state.recipientType);\n    }\n  }\n\n  onClickLabel (label, indexLabel, recipientType) {\n    this.selectUser(label, false, recipientType);\n  }\n  download_mail_preview (e) {\n    let currentTimeStamp = moment().unix();\n    let fileName = 'mail-preview';\n    this.props.onDownloadPdf($('#dialogContent').html(), fileName).then((succ) => {\n      var link = document.createElement('a');\n      link.href = CONFIG.pdf_url + succ.message + '?' + currentTimeStamp;\n      link.target = '_blank';\n      document.body.appendChild(link);\n      link.click();\n    }).catch((err) => { });\n  }\n    // ------editors\n  handleContentChange (value) {\n    this.setState({templateBody: value});\n  }\n  closeMailPreview () {\n    this.setState({openPreview: false, sentMail: {}});\n  }\n  showError (id, errorMsg) {\n    $('#' + id + ' span').remove();\n    $('#' + id).fadeIn().append('<span>' + errorMsg + '<span>');\n  }\n  hideError (e, id) {\n    e.preventDefault();\n    $('#' + id).fadeOut(0);\n    $('#' + id + ' span').remove();\n  }\n  openMailPreview () {\n    let recipient = this.state.recipient,\n      templateName = this.state.templateName.trim(),\n      templateSubject = this.state.templateSubject.trim(),\n      templateBody = this.state.templateBody.toString('html'),\n      state = true,\n      error = '';\n    if (recipient.length === 0) {\n      state = false;\n      error = 'Please select a recipient';\n    }\n    if (state && _.isEmpty(templateName) || _.isEmpty(templateSubject) || _.isEmpty(templateBody)) {\n      state = false;\n      error = 'Please select a template';\n    }\n    if (state) {\n      let string = templateName.concat(' ', templateSubject, ' ', templateBody);\n            // let regx = /#[\\w\\/|-]*/g;\n      let regx = /#[\\w-]+\\|[\\w -\\.,@$%&*!%^\\\\\\/]+\\||#[\\w-]+/ig;\n      let result = string.match(regx);\n      let pendingVariables = [];\n      if (result !== null && result.length > 0) {\n        state = false;\n        error = \"Please put all variable's value\";\n        result = _.uniq(result);\n        result.map((str) => {\n          let start_pos = str.indexOf('|') + 1;\n          let end_pos = str.indexOf('|', start_pos);\n          let defaultValue = str.substring(start_pos, end_pos);\n          pendingVariables.push({name: str, value: defaultValue});\n        });\n        this.setState({pValue: pendingVariables, openVarDialog: true});\n      }\n    }\n    if (state) {\n      let cc_detail = _.map(this.state.cc, (cc) => {\n        return [cc.email, cc.name];\n      });\n      let bcc_detail = _.map(this.state.bcc, (bcc) => {\n        return [bcc.email, bcc.name];\n      });\n      let email = [{\n        email_id:   recipient[0].email,\n        name:       recipient[0].name,\n        subject:    templateSubject,\n        body:       templateBody,\n        cc_detail:  cc_detail,\n        bcc_detail: bcc_detail\n      }];\n      this.setState({openPreview: true, sentMail: {status: state, email: email}});\n    } else {\n      this.showError('previewalert', error);\n    }\n  }\n\n  sendMail () {\n    this.closeMailPreview();\n    let sentMail = this.state.sentMail;\n    let files = this.state.upload_file;\n    sentMail.email[0].upload_file = files;\n    if (sentMail.status) {\n      this.props.onSendMail(sentMail.email).then(() => {\n        this.handleCloseDialog();\n        this.showError('mailsentsuccessfully', 'Mail sent successfully.');\n      }).catch(() => {\n        this.showError('previewalert', 'Mail not sent. try again');\n      });\n    }\n  }\n  handleClose () {\n    this.setState({openVarDialog: false, pValue: _.remove(this.state.pValue)});\n  }\n  setVariable () {\n    let pValue = this.state.pValue,\n      template = {\n        name:    this.state.templateName.trim(),\n        subject: this.state.templateSubject.trim(),\n        body:    this.state.templateBody.toString('html')\n      };\n\n    _.map(pValue, (variable, i) => {\n      if (typeof variable.value !== 'undefined') {\n        template = this.replaceVariablesWithValue(template, variable.name, variable.value);\n      }\n    });\n\n    this.setState({\n      templateName:    template.name,\n      templateSubject: template.subject,\n      templateBody:    RichTextEditor.createValueFromString(template.body, 'html'),\n      pValue:          null\n    }, () => {\n      this.handleClose();\n      this.openMailPreview();\n    });\n  }\n  uploadPDF (e) {\n    let self = this;\n    var file_data = $('#file_image').prop('files');\n    var form_data = new FormData();\n    var LinearProgressBar = [];\n    form_data.append('token', getToken());\n    for (var i in file_data) {\n      form_data.append(i.toString(), file_data[i]);\n    }\n    for (i = 0; i < file_data['length']; i++) {\n      LinearProgressBar.push(\n        <div key={i} className=\"row uploaded-pdf-block-style\">\n          <div className=\"col-xs-7\">{file_data[i].name}</div>\n          <div className=\"col-xs-5\"><LinearProgress mode=\"indeterminate\" /></div>\n        </div>);\n    }\n    self.setState({LinearProgressBar: LinearProgressBar});\n\n    $.ajax({\n      url:         CONFIG.upload_email_attachment,\n      contentType: false,\n      processData: false,\n      data:        form_data,\n      type:        'post',\n      success:     function (data) {\n        let obj = JSON.parse(data);\n        let uploadedPDF = self.state.uploadedPDF;\n        let upload_file_path = self.state.upload_file;\n        let preKey = uploadedPDF.length;\n        if (obj.error === 0) {\n          let data = obj.data;\n          _.map(data, (file, key) => {\n            uploadedPDF.push(file.name);\n            upload_file_path.push(file.path);\n          });\n        }\n        self.setState({\n          uploadedPDF:       uploadedPDF,\n          upload_file:       upload_file_path,\n          LinearProgressBar: []\n        });\n      },\n      error: function (error) { }\n    });\n  }\n  deleteAttachment (filekey) {\n    let uploadedPDF = this.state.uploadedPDF;\n    let newuploadedPDF = [];\n    let upload_file_path = this.state.upload_file;\n    let newupload_file_path = [];\n    _.map(uploadedPDF, (file, k) => {\n      if (filekey != k) {\n        newuploadedPDF.push(uploadedPDF[k]);\n        newupload_file_path.push(upload_file_path[k]);\n      }\n    });\n    this.setState({uploadedPDF: newuploadedPDF, upload_file: newupload_file_path});\n  }\n  render () {\n    let fileList = [];\n    _.map(this.state.uploadedPDF, (name, key) => {\n      fileList.push(<div key={key}>{name}<i onClick={() => this.deleteAttachment(key)} className=\"fa fa-remove uploaded-pdf-block-style cross-button-style\"></i></div>);\n    });\n    const actionsCreateTemplate = [\n      <FlatButton label=\"Close\" className=\"m-r-5\" primary onClick={this.handleCloseDialog} />,\n      <RaisedButton label={_.isEmpty(this.state.templateId) ? 'SAVE' : 'Update'} primary onClick={this.saveTemplate} />\n    ];\n    const actionsSendMail = [\n      <FlatButton label=\"Close\" primary onClick={this.handleCloseDialog} />,\n      <RaisedButton label={'Preview'} primary onClick={this.openMailPreview} />\n    ];\n\n        // ------------------------------------\n    let listChartItems = [],\n      recipientType = this.state.recipientType, // $('input[name=\"recipientType\"]:checked').val(),\n      recipient = [];\n    if (recipientType === 'Recipient') {\n      recipient = this.state.recipient;\n    } else if (recipientType === 'CC') {\n      recipient = this.state.cc;\n    } else if (recipientType === 'BCC') {\n      recipient = this.state.bcc;\n    }\n\n    _.map(this.state.usersList, (user, i) => {\n      let check = false;\n      if (_.filter(recipient, _.matches({user_Id: user.user_Id})).length > 0) {\n        check = true;\n      }\n      listChartItems.push(\n        <li className=\"mb-sm b-b p-t p-b\" key={i}>\n          <div className=\"form-group\">\n            <input type=\"checkbox\" id=\"user\" className=\"check\" checked={check} onChange={(e) => this.selectUser({user_Id: user.user_Id, name: user.name, email: user.work_email}, e.target.checked)} />\n            {user.name}\n          </div>\n        </li>);\n    });\n        // -----------------pending Variables\n    let pendingVar = [];\n    _.map(this.state.pValue, (variable, i) => {\n      pendingVar.push(\n        <div className=\"form-group\" key={i}>\n          <label>Enter value for {variable.name} :</label>\n          <input type=\"text\" className=\"form-control\" onChange={(e) => { variable.value = e.target.value; this.setState({pValue: this.state.pValue}); }} value={variable.value} />\n        </div>);\n    });\n    return (\n      <div className=\"app-body\" id=\"view\" style={{'marginTop': 10}}>\n        <div className=\"col-xs-12 col-sm-12\" style={{'float': 'right'}}>\n          <Dialog\n            title={_.isEmpty(this.state.templateId) ? 'Create Template' : 'Edit Template'}\n            actions={actionsCreateTemplate}\n            modal={false}\n            bodyStyle={{minHeight: '70vh'}}\n            contentStyle={{maxWidth: '90%', width: '90%', transform: 'translate(0px, 0px)'}}\n            open={this.state.openDialog}\n            onRequestClose={this.handleCloseDialog}\n            autoDetectWindowHeight\n            autoScrollBodyContent>\n            <div className=\"row\">\n              <div className=\"col-md-12 col-sm-12\">\n                <LoadingIcon {...this.props} />\n              </div>\n            </div>\n            <div className=\"col-md-9 border-right-style\" >\n              <form className=\"form-inline\">\n                <div className=\"form-group form-input-style\">\n                  <TextField\n                    ref='value'\n                    floatingLabelText=\"Name\"\n                    floatingLabelFixed\n                    hintText=\"Template Name\"\n                    fullWidth\n                    errorText={this.state.errName}\n                    value={this.state.templateName}\n                    onChange={(e) => this.setState({templateName: e.target.value})}\n                  />\n                </div>\n                <div className=\"form-group form-input-style\">\n                  <TextField\n                    ref='Name'\n                    floatingLabelText=\"Subject\"\n                    floatingLabelFixed\n                    hintText=\"Subject\"\n                    fullWidth\n                    errorText={this.state.errSubject}\n                    value={this.state.templateSubject}\n                    onChange={(e) => this.setState({templateSubject: e.target.value})}\n                  />\n                </div>\n                <div className=\"form-group form-input-style\">\n                  <RichTextEditor className=\"editor-style\" value={this.state.templateBody} onChange={this.handleContentChange} />\n                </div>\n              </form>\n            </div>\n            <div className=\"col-md-3\">\n              <h5>System Variables</h5>\n              <Divider />\n              {_.map(this.props.templates.variable, (vari) => {\n                if (vari.variable_type === 'system') {\n                  return (<div key={vari.id}><span className=\"select-variable\">{vari.name}</span><Divider /></div>);\n                }\n              })}\n              <h5 >User Variables</h5>\n              <Divider />\n              {_.map(this.props.templates.variable, (vari) => {\n                if (vari.variable_type == 'user') {\n                  return (<div key={vari.id}><span className=\"select-variable\">{vari.name}</span><Divider /></div>);\n                }\n              })}\n            </div>\n          </Dialog>\n          <div className=\"row\">\n            <div className=\"col-md-12 col-sm-12 col-xs-12\">\n              <div className='row'>\n                <div className='col-md-12 col-sm-12 col-xs-12 m-t-xs'>\n                  <button className=\"md-btn md-raised m-b-sm indigo\" id='createNewTemplate' onClick={this.openCreateTemplate}>Create New Template</button>\n                </div>\n                <div className='col-md-12 col-xs-12 col-sm-12' style={{paddingTop: '10px', paddingRight: '0px', textAlign: 'center'}}>\n                  <div id=\"mailsentsuccessfully\" className=\"alert alert-success pull-left error-alert-style\">\n                    <a href=\"#\" className=\"close\" onClick={(e) => this.hideError(e, 'mailsentsuccessfully')} aria-label=\"close\">&times;</a>\n                  </div>\n                </div>\n                <div className={this.state.paper} id='templatesList' style={{'marginTop': '8%'}}>\n                  {_.map(this.props.templates.templates, (tmp, i) => (\n                    <div className=\"col-md-6 col-sm-6 col-xs-12 body-space\" id={`template-${i}`} key={i}>\n                      <Paper zDepth={0} className=\"paper scroll\" >\n                        <div className=\"delete-style\">\n                          <span className=\"pull-right\" style={{fontSize: '13px', fontStyle: 'italic', color: '#000', cursor: 'pointer', padding: '5px 10px'}} onClick={() => this.toggleDialog(tmp.id + '_menuBack', tmp.id + '_menu')}><i className=\"fa fa-ellipsis-v\" aria-hidden=\"true\"></i></span>\n                          <div id={tmp.id + '_menuBack'} className=\"dropdown-backdrop-custom\" style={{'display': 'none', 'opacity': 0.5}} onClick={() => this.toggleDialog(tmp.id + '_menuBack', tmp.id + '_menu')}></div>\n                          <div id={tmp.id + '_menu'} className=\"menuOptions\" onClick={() => this.toggleDialog(tmp.id + '_menuBack', tmp.id + '_menu')}>\n                            <span className=\"b-b\" onClick={() => this.forwardTemplate(tmp)} ><i className=\"fa fa-share tempalate-btn forward-mail\" aria-hidden=\"true\" title=\"forword\"></i>Forward Mail</span>\n                            <span className=\"b-b\" onClick={() => this.editTemplate(tmp)} ><i className=\"fa fa-pencil-square-o tempalate-btn edit\" aria-hidden=\"true\" title=\"Edit\"></i>Edit Template</span>\n                            <span className=\"b-b\" onClick={() => this.deleteTemplate(tmp)} ><i className=\"fa fa-trash tempalate-btn delete\" aria-hidden=\"true\" title=\"Delete\"></i>Delete Template</span>\n                          </div>\n                        </div>\n                        <div className=\"col-md-12 col-sm-12 col-xs-12 m-b\">\n                          <span className=\"flex-style\"><b>Name:</b><div className=\"p-l\" dangerouslySetInnerHTML={{__html: tmp.name}}></div></span>\n                        </div>\n                        <div className=\"col-md-12 col-sm-12 col-xs-12 m-b\">\n                          <span className=\"flex-style\"><b>Subject: </b><div className=\"p-l\" dangerouslySetInnerHTML={{__html: tmp.subject}}></div></span>\n                        </div>\n                        <div className=\"col-md-12 col-sm-12 col-xs-12 m-b\">\n                          <span className=\"flex-style\"><b>Body: </b><div className=\"p-l\" dangerouslySetInnerHTML={{__html: tmp.body}}></div></span>\n                        </div>\n                      </Paper>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n          <Dialog\n            title={'Send Mail'}\n            actions={actionsSendMail}\n            modal={false}\n            bodyClassName=\"template-dialog-style\"\n            contentClassName=\"dialog-content-style\"\n            open={this.state.openSendMailDialog}\n            onRequestClose={this.handleCloseDialog}\n            autoDetectWindowHeight\n            autoScrollBodyContent\n            >\n            <Dialog\n              title={'Enter values'}\n              actions={[ <FlatButton label=\"Close\" primary onClick={this.handleClose} style={{marginRight: 5}} />,\n                <RaisedButton label={'Set Variables'} primary onClick={this.setVariable} />]}\n              modal={false}\n              bodyClassName=\"template-dialog-style\"\n              contentClassName=\"nextdialog-content-style\"\n              open={this.state.openVarDialog}\n              onRequestClose={this.handleClose}\n              autoDetectWindowHeight\n              autoScrollBodyContent\n            >\n              <div> <div className=\"col-sx-12\"></div>{pendingVar} </div>\n            </Dialog>\n            <Dialog\n              title={'Mail Preview'}\n              titleClassName=\"templates-dialog-title\"\n              actions={[<FlatButton label=\"Cancel\" primary onClick={this.closeMailPreview} style={{marginRight: 5}} />,\n                <RaisedButton label={'Continue'} primary onClick={this.sendMail} />,\n                <FlatButton label={'Download Preview'} primary style={{'float': 'left'}} onClick={(e) => { this.download_mail_preview(e); }} />]}\n              modal={false}\n              bodyClassName=\"template-dialog-style\"\n              contentClassName=\"nextdialog-content-style\"\n              open={this.state.openPreview}\n              onRequestClose={this.closeMailPreview}\n              autoDetectWindowHeight\n              autoScrollBodyContent\n              >\n              <div className=\"row\">\n                <div className=\"col-md-12\"><LoadingIcon {...this.props} /></div>\n              </div>\n              <div id=\"dialogContent\" className=\"template-dialog-content-style\">\n                <div className=\"p-t p-b template-send-email\" style={{'textAlign': 'center', fontWeight: '600', fontSize: '17px', marginTop: '5px', textDecoration: 'underline'}} dangerouslySetInnerHTML={{__html: this.state.sentMail && this.state.sentMail.email && this.state.sentMail.email[0].subject}}></div>\n                <div className=\"p-t p-b\" dangerouslySetInnerHTML={{__html: this.state.sentMail && this.state.sentMail.email && this.state.sentMail.email[0].body}}></div>\n              </div>\n            </Dialog>\n            <div className=\"col-md-9 b-r-gainsboro\">\n              <form className=\"form-inline\">\n                <span className=\"pull-right add-recipient-style\" onClick={() => this.toggleDialog('FilterBack', 'Filter')}>Add recipient</span>\n                <div className=\"dropdown\">\n                  <div id={'FilterBack'} className=\"dropdown-backdrop-custom filter-back-style\" onClick={() => this.toggleDialog('FilterBack', 'Filter')}></div>\n                  <div id={'Filter'} className=\"dropdown-menu has-child has-arrow selectUser mail-recipient\">\n                    <ul className=\"list-unstyled pt-xs\">\n                      <li className=\"mb-sm b-b p-t p-b\">\n                        <div className=\"form-group form-group-full-width\" >\n                          <input type=\"checkbox\" id=\"notListed\" className=\"not-listed\" checked={this.state.recipientNotFound} onChange={(e) => this.setState({recipientNotFound: e.target.checked})} /> Recipient Not Listed\n                        </div>\n                      </li>\n                      <li className=\"mb-sm b-b p-t p-b\">\n                        <div className=\"form-group form-group-p-0-w-4\" >\n                          <input type=\"radio\" id=\"recipient\" className=\"recipient\" name=\"recipientType\" checked={recipientType == 'Recipient'} value=\"Recipient\" onChange={(e) => { this.setState({recipientType: e.target.value}); }} /> Recipient\n                        </div>\n                        <div className=\"form-group\" style={{width: '30%', paddingLeft: '0px'}} >\n                          <input type=\"radio\" id=\"cc\" className=\"cc\" name=\"recipientType\" checked={recipientType == 'CC'} value=\"CC\" onChange={(e) => { this.setState({recipientType: e.target.value}); }} /> CC\n                        </div>\n                        <div className=\"form-group\" style={{width: '30%', paddingLeft: '0px'}}>\n                          <input type=\"radio\" id=\"bcc\" className=\"bcc\" name=\"recipientType\" checked={recipientType == 'BCC'} value=\"BCC\" onChange={(e) => { this.setState({recipientType: e.target.value}); }} /> BCC\n                        </div>\n                      </li>\n                      {this.state.recipientNotFound\n                        ? <li className=\"mb-sm b-b p-t p-b\">\n                          <div className=\"form-group\" style={{width: '100%'}}>\n                            <label>Enter Email Id:</label>\n                            <input type=\"text\" style={{width: '100%'}} className=\"form-control\" placeholder=\"enter email...\" onChange={(e) => this.setState({recipientEmailId: e.target.value})} value={this.state.recipientEmailId} />\n                            <span style={{color: '#FF0000', padding: '5px', display: 'block'}}>{this.state.emailValidationError}</span>\n                            <button type=\"button\" className=\"btn m-t btn-primary btn-block\" onClick={() => this.submitEmail(this.state.recipientEmailId)}>Submit</button>\n                          </div>\n                        </li>\n                      : <span>\n                        <li className=\"mb-sm b-b p-t p-b\">\n                          <div className=\"form-group\">\n                            <input type=\"text\"\n                              name=\"search\"\n                              className=\"form-control select-all search-box\"\n                              placeholder=\"search\"\n                              onKeyUp={(e) => this.filterList(e.target.value)} />\n                          </div>\n                        </li>\n                        {listChartItems}\n                      </span>\n                      }\n                    </ul>\n                  </div>\n                </div>\n                <div id=\"previewalert\" className=\"alert alert-danger pull-left error-alert-style\">\n                  <a href=\"#\" className=\"close\" onClick={(e) => this.hideError(e, 'previewalert')} aria-label=\"close\">&times;</a>\n                </div>\n                <div className=\"form-group selected-recipient form-input-style\">\n                  <div className=\"pull-left to\">To</div>\n                  <div className=\"pull-left filter-tags\" style={{fontSize: '12px'}}>\n                    {this.state.recipient.length > 0 ? <FilterLabel data={this.state.recipient} onClick={(label, indexLabel) => this.onClickLabel(label, indexLabel, 'Recipient')} onClear={this.onclearFilter} /> : ''}\n                  </div>\n                </div>\n                {this.state.cc.length > 0\n                  ? <div className=\"form-group selected-recipient form-input-style\">\n                    <div className=\"pull-left to\">CC</div>\n                    <div className=\"pull-left filter-tags\" style={{fontSize: '12px'}}>\n                      <FilterLabel data={this.state.cc} onClick={(label, indexLabel) => this.onClickLabel(label, indexLabel, 'CC')} onClear={this.onclearFilter} />\n                    </div>\n                  </div>\n                 : ''}\n                {this.state.bcc.length > 0\n                  ? <div className=\"form-group selected-recipient form-input-style\">\n                    <div className=\"pull-left to\">BCC</div>\n                    <div className=\"pull-left filter-tags\" style={{fontSize: '12px'}}>\n                      <FilterLabel data={this.state.bcc} onClick={(label, indexLabel) => this.onClickLabel(label, indexLabel, 'BCC')} onClear={this.onclearFilter} />\n                    </div>\n                  </div>\n                : ''}\n                <div className=\"form-group form-input-style\">\n                  <TextField\n                    ref='value'\n                    floatingLabelText=\"Name\"\n                    floatingLabelFixed\n                    hintText=\"Template Name\"\n                    fullWidth\n                    disabled\n                    errorText={this.state.errName}\n                    value={this.state.templateName}\n                    onChange={(e) => this.setState({templateName: e.target.value})}\n                  />\n                </div>\n                <div className=\"form-group form-input-style\">\n                  <TextField\n                    ref='Name'\n                    floatingLabelText=\"Subject\"\n                    floatingLabelFixed\n                    hintText=\"Subject\"\n                    fullWidth\n                    errorText={this.state.errSubject}\n                    value={this.state.templateSubject}\n                    onChange={(e) => this.setState({templateSubject: e.target.value})}\n                  />\n                </div>\n                <div className=\"form-group form-input-style\">\n                  <RichTextEditor\n                    id={'editor'}\n                    className=\"editor-style\"\n                    value={this.state.templateBody}\n                    onChange={this.handleContentChange}\n                    readOnly\n                  />\n                </div>\n              </form>\n              <div className=\"row\">\n                <div className=\"col-md-2\">{this.state.LinearProgressBar} {fileList}</div>\n              </div>\n              <form action={''} method=\"POST\" encType=\"multipart/form-data\">\n                <div className=\"form-group\">\n                  <button className=\"btn btn-blue upload-button-style\" >\n                    <i className=\"fa fa-file-pdf-o\" style={{'marginRight': '5px', 'cursor': 'pointer'}}></i>\n                    <input multiple id=\"file_image\" type=\"file\" name=\"image[]\" ref=\"file\" className=\"form-control\" onChange={(e) => this.uploadPDF(e)} /> Attachment\n                  </button>\n                </div>\n              </form>\n            </div>\n            <div className=\"col-md-3\">\n              <h5 style={{textAlign: 'center', color: '#000'}}>System Variables</h5>\n              <Divider />\n              {_.map(this.props.templates.variable, (vari) => {\n                if (vari.variable_type === 'system') {\n                  return (<div key={vari.id}><span className=\"select-variable\">{vari.name}</span><Divider /></div>);\n                }\n              })}\n              <h5 style={{textAlign: 'center', color: '#000'}}>User Variables</h5>\n              <Divider />\n              {_.map(this.props.templates.variable, (vari) => {\n                if (vari.variable_type == 'user') {\n                  return (<div key={vari.id}><span className=\"select-variable\">{vari.name}</span><Divider /></div>);\n                }\n              })}\n            </div>\n          </Dialog>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Variables;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router';\nimport Menu from '../../../components/generic/Menu';\nimport {isNotUserValid} from '../../../services/generic';\nimport Header from '../../../components/generic/Header';\nimport Template from '../components/Template';\nimport * as actions from '../../../redux/actions';\nimport * as actions_salary from '../../../redux/salary/actions/viewSalary';\nimport * as actions_templates from '../../../redux/templates/actions/templates';\n\nclass TemplateContainer extends React.Component {\n  constructor (props) {\n    super(props);\n    this.props.onIsAlreadyLogin();\n  }\n  componentWillMount () {\n    this.props.onFetchUserSalaryDetails().then(() => {\n      this.props.onFetchTemplate();\n      this.props.onFetchVariables();\n    });\n  }\n  componentWillReceiveProps (props) {\n    let isNotValid = isNotUserValid(props.match.path, props.loggedUser);\n    if (isNotValid.status) {\n      this.props.history.push(isNotValid.redirectTo);\n    }\n  }\n\n  render () {\n    return (\n      <div>\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header pageTitle={'Email Template'} {...this.props} />\n          <Template {...this.props} />\n        </div>\n      </div>\n    );\n  }\n}\nfunction mapStateToProps (state) {\n  return {\n    frontend:   state.frontend.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    templates:  state.template.toJS(),\n    employee:   state.empSalaryList.toJS()\n  };\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onIsAlreadyLogin: () => {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    onFetchTemplate: () => {\n      return dispatch(actions_templates.get_templates());\n    },\n    onFetchVariables: () => {\n      return dispatch(actions_templates.get_variable());\n    },\n    onSaveTemplate: (t_id, t_name, t_subject, t_body) => {\n      return dispatch(actions_templates.save_templates(t_id, t_name, t_subject, t_body));\n    },\n    onDeleteTemplate: (t_id) => {\n      return dispatch(actions_templates.delete_template(t_id));\n    },\n    onSendMail: (email) => {\n      return dispatch(actions_templates.send_mail(email));\n    },\n    onDownloadPdf: (template, fileName) => {\n      return dispatch(actions_templates.download_pdf(template, fileName));\n    },\n    onFetchUserSalaryDetails: () => {\n      return dispatch(actions_salary.fetchUserSalaryDetails());\n    }\n  };\n};\n\nconst VisibleTemplateContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TemplateContainer);\n\nconst RouterVisibleTemplateContainer = withRouter(VisibleTemplateContainer);\n\nexport default RouterVisibleTemplateContainer;\n","import {createAction} from 'redux-actions';\nimport * as _ from 'lodash';\nimport {CONFIG} from '../../../config/index';\nimport {fireAjax} from '../../../services/index';\nimport 'whatwg-fetch';\nimport {show_loading, hide_loading} from '../../../redux/generic/actions/frontend';\nimport * as constants from '../../../redux/constants';\n\nexport function success_salary_details (data) {\n  return createAction(constants.ACTION_SUCCESS_SALARY_DETAILS)(data);\n}\n\nexport function empty_salary_details (data) {\n  return createAction(constants.ACTION_EMPTY_SALARY_DETAILS)(data);\n}\n\nfunction async_get_salary_details () {\n  return fireAjax('POST', '', {\n    'action': 'get_user_salary_info'\n  });\n}\n\nexport function getSalaryDetails () {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_get_salary_details().then((json) => {\n        dispatch(hide_loading()); // hide loading icon\n        console.log('json', json);\n        if (typeof json.data !== 'undefined' && typeof json.data.salary_details !== 'undefined') {\n          // let data = json.data.salary_details.reverse()\n          // dispatch( success_salary_details( data ) )\n          resolve(json.data);\n          dispatch(success_salary_details(json.data));\n        } else {\n          dispatch(empty_salary_details([]));\n        }\n      }, (error) => {\n        dispatch(hide_loading()); // hide loading icon\n        dispatch(success_salary_details([]));\n      });\n    });\n  };\n}\n\nexport function success_user_salary_details (data) {\n  return createAction(constants.ACTION_SUCCESS_USER_SALARY_DETAILS)(data);\n}\n\nexport function empty__user_salary_details (data) {\n  return createAction(constants.ACTION_EMPTY_USER_SALARY_DETAILS)(data);\n}\n\nexport function error_user_salary_details (data) {\n  return createAction(constants.ACTION_ERROR_USER_SALARY_DETAILS)(data);\n}\n\nfunction async_fetch_users_salary_details () {\n  return fireAjax('POST', '', {\n    'action': 'get_all_users_detail'\n  });\n}\n\nexport function fetchUserSalaryDetails () {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading());\n      async_fetch_users_salary_details().then((json) => {\n        dispatch(hide_loading());\n        if (typeof json.data !== 'undefined' && json.data.length > 0) {\n          dispatch(success_user_salary_details(json.data));\n          resolve();\n        } else {\n          dispatch(empty__user_salary_details([]));\n          resolve();\n        }\n      }, (error) => {\n        dispatch(hide_loading());\n        resolve();\n        dispatch(error_user_salary_details([]));\n      });\n    });\n  };\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _Divider = require('./Divider');\n\nvar _Divider2 = _interopRequireDefault(_Divider);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.default = _Divider2.default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _LinearProgress = require('./LinearProgress');\n\nvar _LinearProgress2 = _interopRequireDefault(_LinearProgress);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.default = _LinearProgress2.default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _simpleAssign = require('simple-assign');\n\nvar _simpleAssign2 = _interopRequireDefault(_simpleAssign);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar Divider = function Divider(props, context) {\n  var inset = props.inset,\n      style = props.style,\n      other = (0, _objectWithoutProperties3.default)(props, ['inset', 'style']);\n  var _context$muiTheme = context.muiTheme,\n      baseTheme = _context$muiTheme.baseTheme,\n      prepareStyles = _context$muiTheme.prepareStyles;\n  var styles = {\n    root: {\n      margin: 0,\n      marginTop: -1,\n      marginLeft: inset ? 72 : 0,\n      height: 1,\n      border: 'none',\n      backgroundColor: baseTheme.palette.borderColor\n    }\n  };\n  return _react2.default.createElement('hr', (0, _extends3.default)({}, other, {\n    style: prepareStyles((0, _simpleAssign2.default)(styles.root, style))\n  }));\n};\n\nDivider.muiName = 'Divider';\nDivider.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * If true, the `Divider` will be indented.\n   */\n  inset: _propTypes2.default.bool,\n\n  /**\n   * Override the inline-styles of the root element.\n   */\n  style: _propTypes2.default.object\n} : {};\nDivider.defaultProps = {\n  inset: false\n};\nDivider.contextTypes = {\n  muiTheme: _propTypes2.default.object.isRequired\n};\nexports.default = Divider;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _simpleAssign = require('simple-assign');\n\nvar _simpleAssign2 = _interopRequireDefault(_simpleAssign);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _transitions = require('../styles/transitions');\n\nvar _transitions2 = _interopRequireDefault(_transitions);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction getRelativeValue(value, min, max) {\n  var clampedValue = Math.min(Math.max(min, value), max);\n  var rangeValue = max - min;\n  var relValue = Math.round((clampedValue - min) / rangeValue * 10000) / 10000;\n  return relValue * 100;\n}\n\nfunction getStyles(props, context) {\n  var max = props.max,\n      min = props.min,\n      value = props.value;\n  var _context$muiTheme = context.muiTheme,\n      palette = _context$muiTheme.baseTheme.palette,\n      borderRadius = _context$muiTheme.borderRadius;\n  var styles = {\n    root: {\n      position: 'relative',\n      height: 4,\n      display: 'block',\n      width: '100%',\n      backgroundColor: palette.primary3Color,\n      borderRadius: borderRadius,\n      margin: 0,\n      overflow: 'hidden'\n    },\n    bar: {\n      height: '100%'\n    },\n    barFragment1: {},\n    barFragment2: {}\n  };\n\n  if (props.mode === 'indeterminate') {\n    styles.barFragment1 = {\n      position: 'absolute',\n      backgroundColor: props.color || palette.primary1Color,\n      top: 0,\n      left: 0,\n      bottom: 0,\n      transition: _transitions2.default.create('all', '840ms', null, 'cubic-bezier(0.650, 0.815, 0.735, 0.395)')\n    };\n    styles.barFragment2 = {\n      position: 'absolute',\n      backgroundColor: props.color || palette.primary1Color,\n      top: 0,\n      left: 0,\n      bottom: 0,\n      transition: _transitions2.default.create('all', '840ms', null, 'cubic-bezier(0.165, 0.840, 0.440, 1.000)')\n    };\n  } else {\n    styles.bar.backgroundColor = props.color || palette.primary1Color;\n    styles.bar.transition = _transitions2.default.create('width', '.3s', null, 'linear');\n    styles.bar.width = getRelativeValue(value, min, max) + '%';\n  }\n\n  return styles;\n}\n\nvar LinearProgress = function (_Component) {\n  (0, _inherits3.default)(LinearProgress, _Component);\n\n  function LinearProgress() {\n    (0, _classCallCheck3.default)(this, LinearProgress);\n    return (0, _possibleConstructorReturn3.default)(this, (LinearProgress.__proto__ || (0, _getPrototypeOf2.default)(LinearProgress)).apply(this, arguments));\n  }\n\n  (0, _createClass3.default)(LinearProgress, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.timers = {};\n      this.timers.bar1 = this.barUpdate('bar1', 0, this.refs.bar1, [[-35, 100], [100, -90]], 0);\n      this.timers.bar2 = setTimeout(function () {\n        _this2.barUpdate('bar2', 0, _this2.refs.bar2, [[-200, 100], [107, -8]], 0);\n      }, 850);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this.timers.bar1);\n      clearTimeout(this.timers.bar2);\n    }\n  }, {\n    key: 'barUpdate',\n    value: function barUpdate(id, step, barElement, stepValues, timeToNextStep) {\n      var _this3 = this;\n\n      if (this.props.mode !== 'indeterminate') return;\n      timeToNextStep = timeToNextStep || 420;\n      step = step || 0;\n      step %= 4;\n      var right = this.context.muiTheme.isRtl ? 'left' : 'right';\n      var left = this.context.muiTheme.isRtl ? 'right' : 'left';\n\n      if (step === 0) {\n        barElement.style[left] = stepValues[0][0] + '%';\n        barElement.style[right] = stepValues[0][1] + '%';\n      } else if (step === 1) {\n        barElement.style.transitionDuration = '840ms';\n      } else if (step === 2) {\n        barElement.style[left] = stepValues[1][0] + '%';\n        barElement.style[right] = stepValues[1][1] + '%';\n      } else if (step === 3) {\n        barElement.style.transitionDuration = '0ms';\n      }\n\n      this.timers[id] = setTimeout(function () {\n        return _this3.barUpdate(id, step + 1, barElement, stepValues);\n      }, timeToNextStep);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          style = _props.style,\n          other = (0, _objectWithoutProperties3.default)(_props, ['style']);\n      var prepareStyles = this.context.muiTheme.prepareStyles;\n      var styles = getStyles(this.props, this.context);\n      return _react2.default.createElement('div', (0, _extends3.default)({}, other, {\n        style: prepareStyles((0, _simpleAssign2.default)(styles.root, style))\n      }), _react2.default.createElement('div', {\n        style: prepareStyles(styles.bar)\n      }, _react2.default.createElement('div', {\n        ref: 'bar1',\n        style: prepareStyles(styles.barFragment1)\n      }), _react2.default.createElement('div', {\n        ref: 'bar2',\n        style: prepareStyles(styles.barFragment2)\n      })));\n    }\n  }]);\n  return LinearProgress;\n}(_react.Component);\n\nLinearProgress.defaultProps = {\n  mode: 'indeterminate',\n  value: 0,\n  min: 0,\n  max: 100\n};\nLinearProgress.contextTypes = {\n  muiTheme: _propTypes2.default.object.isRequired\n};\nLinearProgress.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * The color of the progress bar, defaults to\n   * primary color of theme.\n   */\n  color: _propTypes2.default.string,\n\n  /**\n   * The max value of progress, only works in determinate mode.\n   */\n  max: _propTypes2.default.number,\n\n  /**\n   * The min value of progress, only works in determinate mode.\n   */\n  min: _propTypes2.default.number,\n\n  /**\n   * The mode of show your progress, indeterminate for when\n   * there is no value for progress.\n   */\n  mode: _propTypes2.default.oneOf(['determinate', 'indeterminate']),\n\n  /**\n   * Override the inline-styles of the root element.\n   */\n  style: _propTypes2.default.object,\n\n  /**\n   * The value of progress, only works in determinate mode.\n   */\n  value: _propTypes2.default.number\n} : {};\nexports.default = LinearProgress;","import * as _ from 'lodash';\nimport {createAction} from 'redux-actions';\nimport {CONFIG} from '../../../config/index';\nimport {fireAjax} from '../../../services/index';\nimport * as constants from '../../../redux/constants';\nimport {show_loading, hide_loading} from '../../../redux/generic/actions/frontend';\nimport 'whatwg-fetch';\n\n// --------add new valiable-------\n\nexport function success_add_variable (data) {\n  return createAction(constants.ACTION_SUCCESS_ADD_VARIABLE)(data);\n}\nexport function error_add_varaible (data) {\n  return createAction(constants.ACTION_ERROR_ADD_VARIABLE)(data);\n}\n\nfunction async_saveVariable (id, variable) {\n  return fireAjax('POST', '', {\n    action:        'create_template_variable',\n    name:          variable.varCode,\n    value:         variable.varValue,\n    variable_type: variable.varType\n  });\n}\n\nfunction async_editVariable (id, variable) {\n  return fireAjax('POST', '', {\n    action:        'update_template_variable',\n    id:            id,\n    name:          variable.varCode,\n    value:         variable.varValue,\n    variable_type: variable.varType\n  });\n}\n\nexport function saveVariable (id, variable) {\n  return (dispatch, getState) => {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading());\n      if (id == '') {\n        async_saveVariable(id, variable).then((json) => {\n          dispatch(hide_loading()); // hide loading icon\n          if (json.error == 0) {\n            dispatch(success_add_variable(json.data));\n            dispatch(get_variable());\n            resolve(json.data);\n          } else {\n            dispatch(error_add_varaible(json.error[0]));\n          }\n        },\n        (error) => {\n          dispatch(hide_loading()); // hide loading icon\n          dispatch(error_add_varaible('error occurs'));\n        }\n);\n      } else {\n        async_editVariable(id, variable).then((json) => {\n          dispatch(hide_loading()); // hide loading icon\n          if (json.error == 0) {\n            dispatch(success_add_variable(json.data));\n            dispatch(get_variable());\n            resolve(json.data);\n          } else {\n            dispatch(error_add_varaible(json.error[0]));\n          }\n        },\n          (error) => {\n            dispatch(hide_loading()); // hide loading icon\n            dispatch(error_add_varaible('error occurs'));\n          }\n        );\n      }\n    });\n  };\n}\n\n// ------------Get valiables---------\n\nfunction async_get_variable () {\n  return fireAjax('POST', '', {\n    action: 'get_template_variable'\n  });\n}\n\nexport function success_variable_get (data) {\n  return createAction(constants.ACTION_SUCCESS_VARIABLE_GET)(data);\n}\n\nexport function get_variable () {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_get_variable().then((json) => {\n        dispatch(hide_loading());\n        if (typeof json !== 'undefined' && json.length > 0) {\n          let data = json;\n          dispatch(success_variable_get(data));\n          resolve(data);\n        } else {\n          dispatch(success_variable_get([]));\n        }\n      }, (error) => {\n        dispatch(hide_loading());// hide loading icon\n        dispatch(success_variable_get([]));\n      }\n\t\t\t);\n    });\n  };\n}\n\n// ----------delete Variables---------------\n\nfunction async_delete_variable (id) {\n  return fireAjax('POST', '', {\n    action: 'delete_template_variable',\n    id:     id\n  });\n}\n\nexport function deleteVariable (id) {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_delete_variable(id).then((json) => {\n        dispatch(hide_loading()); // hide loading icon\n        if (json.error == 0) {\n          dispatch(get_variable());\n          resolve(json.data.message);\n        } else {\n          dispatch(get_variable());\n          resolve(json.data.message);\n        }\n      }, (error) => {\n        dispatch(hide_loading());// hide loading icon\n        reject('error occurs!!');\n      }\n\t\t\t);\n    });\n  };\n}\n\n// ----------------get templates -------------\n\nexport function success_get_template (data) {\n  return createAction(constants.ACTION_SUCCESS_GET_TEMPLATES)(data);\n}\n\nfunction async_get_templates () {\n  return fireAjax('POST', '', {\n    action: 'get_email_template'\n  });\n}\nexport function get_templates () {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading());\n      async_get_templates().then((json) => {\n        dispatch(hide_loading());\n        if (typeof json !== 'undefined' && json.length > 0) {\n          let data = json;\n          dispatch(success_get_template(data));\n          resolve(data);\n        } else {\n          dispatch(success_get_template([]));\n        }\n      }, (error) => {\n        dispatch(hide_loading()); // hide loading icon\n        reject('error occurs!!');\n      }\n\t\t\t);\n    });\n  };\n}\n\n// -------------------save template ------------\n\nfunction async_save_template (t_name, t_subject, t_body) {\n  return fireAjax('POST', '', {\n    action:  'create_email_template',\n    name:    t_name,\n    subject: t_subject,\n    body:    t_body\n  });\n}\nfunction async_update_template (t_id, t_name, t_subject, t_body) {\n  return fireAjax('POST', '', {\n    action:  'update_email_template',\n    id:      t_id,\n    name:    t_name,\n    subject: t_subject,\n    body:    t_body\n  });\n}\nexport function save_templates (t_id, t_name, t_subject, t_body) {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading());\n      if (_.isEmpty(t_id)) {\n        async_save_template(t_name, t_subject, t_body).then((json) => {\n          dispatch(hide_loading());\n          dispatch(get_templates());\n          resolve(json.data.message);\n        },\n\t\t\t\t\t(error) => {\n  dispatch(hide_loading()); // hide loading icon\n  reject('error occurs!!');\n});\n      } else {\n        async_update_template(t_id, t_name, t_subject, t_body).then((json) => {\n          dispatch(hide_loading());\n          dispatch(get_templates());\n          resolve(json.data.message);\n        }, (error) => {\n          dispatch(hide_loading()); // hide loading icon\n          reject('error occurs!!');\n        }\n\t\t\t\t);\n      }\n    });\n  };\n}\n\n// --------------Delete template-------------\n\nfunction async_delete_template (t_id) {\n  return fireAjax('POST', '', {\n    action: 'delete_email_template',\n    id:     t_id\n  });\n}\n\nexport function delete_template (t_id) {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading());\n      async_delete_template(t_id).then((json) => {\n        dispatch(hide_loading());\n        if (json.error) {\n          reject(json.data.message);\n        } else {\n          dispatch(get_templates());\n          resolve();\n        }\n      }, (error) => {\n        dispatch(hide_loading());\n        reject('error occurs!!');\n      }\n\t\t\t);\n    });\n  };\n}\n\n// ------------send_mail functionality------------\n\nfunction async_send_mail (email) {\n  return fireAjax('POST', '', {\n    action: 'send_employee_email',\n    email:  email\n  });\n}\n\nexport function send_mail (email) {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading());\n      async_send_mail(email).then((json) => {\n        dispatch(hide_loading());\n        if (json.error) {\n          reject(json.data.message);\n        } else {\n          dispatch(get_templates());\n          resolve(json.data.message);\n        }\n      }, (error) => {\n        dispatch(hide_loading());\n        reject('error occurs!!');\n      }\n\t\t\t);\n    });\n  };\n}\n\n// -------------------Download PDF ------------\n\nfunction async_download_template (template, fileName) {\n  return fireAjax('POST', '', {\n    action:    'create_pdf',\n    template:  template,\n    file_name: fileName\n  });\n}\nexport function download_pdf (template, fileName) {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading());\n      async_download_template(template, fileName).then((json) => {\n        dispatch(hide_loading());\n        resolve(json.data);\n      }, (error) => {\n        dispatch(hide_loading());\n        reject('error occurs!!');\n      }\n\t\t\t\t);\n    });\n  };\n}\n\n/* export function fetchVariable(){\n\treturn (dispatch,getState)=>{\n\t\treturn new Promise((resolve,reject)=>{\n\t\t\tMeteor.call('fetchAllVariable',(err,data)=>{\n\t\t\t\tif(err){\n\t\t\t\t\treject(err)\n\t\t\t\t}else{\n\t\t\t\t\tif(data.length > 0){\n\t\t\t\t\t\tdispatch(success_fetch_variable(data))\n\t\t\t\t\t\tresolve('variable loading completed')\n\t\t\t\t\t}else{\n\t\t\t\t\t\tdispatch(success_fetch_variable(data))\n\t\t\t\t\t\tresolve('No variable in database')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n}\n\nexport function deleteVariable( id ){\n\treturn (dispatch,getState) => {\n\t\treturn new Promise( (resolve,reject) => {\n\t\t\tMeteor.call('deleteVariable', id , (err, data) => {\n\t\t\t\tif(err){\n\t\t\t\t\treject(err)\n\t\t\t\t}else{\n\t\t\t\t\tdispatch ( fetchVariable(data) )\n\t\t\t\t\tresolve(data)\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n}\n\nexport function success_fetch_variable( data ){\n\treturn createAction( ACTION_SUCCESS_FETCH_VARIABLE )( data )\n}*/\n"],"sourceRoot":""}