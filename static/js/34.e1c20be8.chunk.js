(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1108:function(e,t,a){"use strict";a.r(t);var n=a(25),r=a(26),s=a(29),i=a(27),o=a(28),c=a(12),l=a(0),u=a.n(l),d=a(36),m=a(1075),f=a(9),p=a.n(f),_=a(122),y=a(37),b=a(253),h=a(126),v=a(260),g=a(1),j=a.n(g),E=function(e){var t=e.userDetails,a=e.changeEmployeeStatus,n="-";return u.a.createElement("div",{className:"padding"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Name"),u.a.createElement("div",{className:"_500"},""===t.name?n:t.name)),u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Job Title"),u.a.createElement("div",{className:"_500"},""===t.jobtitle?n:t.jobtitle))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Date Of Joining"),u.a.createElement("div",{className:"_500"},""===t.dateofjoining?n:t.dateofjoining)),u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Termination Date"),u.a.createElement("div",{className:"_500"},""===t.termination_date?n:t.termination_date)),u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Last Salary Details"),u.a.createElement("div",{className:"_500"}," \u20b9 ",t.last_salary_details?t.last_salary_details.total_salary:n)),u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Work Email"),u.a.createElement("div",{className:"_500"},""===t.work_email?n:t.work_email))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Other Email"),u.a.createElement("div",{className:"_500"},""===t.other_email?n:t.other_email)),u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Gender"),u.a.createElement("div",{className:"_500"},""===t.gender?n:t.gender))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Date Of Birth"),u.a.createElement("div",{className:"_500"},""===t.dob?n:t.dob)),u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Marital Status"),u.a.createElement("div",{className:"_500"},""===t.marital_status?n:t.marital_status))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Permanent Address"),u.a.createElement("div",{className:"_500"},""===t.permanent_address?n:t.permanent_address)),u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Mobile Number"),u.a.createElement("div",{className:"_500"},""===t.mobile_ph?n:t.mobile_ph))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Emergency Contact Information 1"),u.a.createElement("div",{className:"_500"},""===t.emergency_ph1?n:t.emergency_ph1)),u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Emergency Contact Information 2"),u.a.createElement("div",{className:"_500"},""===t.emergency_ph2?n:t.emergency_ph2))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Blood Group"),u.a.createElement("div",{className:"_500"},""===t.blood_group?n:t.blood_group)),u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Any Medical Conditions"),u.a.createElement("div",{className:"_500"},""===t.medical_condition?n:t.medical_condition))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Pan Card Number"),u.a.createElement("div",{className:"_500"},""===t.pan_card_num?n:t.pan_card_num)),u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Type"),u.a.createElement("div",{className:"_500"},""===t.type?n:t.type))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"User Id"),u.a.createElement("div",{className:"_500"},""===t.user_Id?n:t.user_Id)),u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Bank Account No."),u.a.createElement("div",{className:"_500"},""===t.bank_account_num?n:t.bank_account_num)),u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"User Name"),u.a.createElement("div",{className:"_500"},""===t.username?n:t.username))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Zip code"),u.a.createElement("div",{className:"_500"},""===t.zip_postal?n:t.zip_postal)),u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Special Instructions"),u.a.createElement("div",{className:"_500"},""===t.special_instructions?n:t.special_instructions))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("small",{className:"text-muted"},"Status"),u.a.createElement("div",{className:"_500"},""===t.status?n:u.a.createElement("span",{className:"label rounded primary"},t.status))),u.a.createElement("div",{className:"col-xs-6 col-sm-6 profile-input p-b"},u.a.createElement("div",{className:"col-md-12 text-right"},u.a.createElement("button",{className:"btn btn-fw btn-success",onTouchTap:function(){a(t.user_Id,"Enabled")}},"Enable")))))};E.PropTypes={userDetails:j.a.shape({name:j.a.string,jobtitle:j.a.string,dateofjoining:j.a.string,work_email:j.a.string,other_email:j.a.string,gender:j.a.string,dob:j.a.string,marital_status:j.a.string,permanent_address:j.a.string,mobile_ph:j.a.number,emergency_ph1:j.a.string,emergency_ph2:j.a.string,blood_group:j.a.string,medical_condition:j.a.string,pan_card_num:j.a.string,type:j.a.string,user_Id:j.a.oneOfType([j.a.string,j.a.number]).isRequired,username:j.a.string,zip_postal:j.a.number,special_instructions:j.a.string,status:j.a.string}).isRequired,changeEmployeeStatus:j.a.func.isRequired};var O=E,N=a(640),P=a(761),x=a(5),k=a(168),w=a(568),S=a(610),T=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).props.onIsAlreadyLogin(),a.state={disabled_users:[],defaultUserDisplay:"",selected_user_name:"",f_char:"",selected_user_jobtitle:"",selected_user_id:"",userDetails:"",key:0,user_documents:{},user_payslip_history:[]},a.onUserClick=a.onUserClick.bind(Object(c.a)(Object(c.a)(a))),a.changeEmployeeStatus=a.changeEmployeeStatus.bind(Object(c.a)(Object(c.a)(a))),a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){window.scrollTo(0,0),this.props.onFetchDisabledEmployee()}},{key:"componentWillReceiveProps",value:function(e){window.scrollTo(0,0);var t=Object(y.e)(this.props.location.pathname,e.loggedUser);t.status&&this.props.history.push(t.redirectTo),this.setState({user_payslip_history:e.managePayslips.user_payslip_history,user_documents:e.manageUsers.user_documents})}},{key:"componentDidUpdate",value:function(){if(""===this.state.defaultUserDisplay&&this.props.usersList.disabled_users.length>0){var e=this.props.usersList.disabled_users,t=e[this.state.key];void 0===t&&(t=e[0]),this.onUserClick(t)}}},{key:"onUserClick",value:function(e){window.scrollTo(0,0),this.setState({defaultUserDisplay:e.user_Id,selected_user_name:e.name,f_char:e.name.charAt(0),selected_user_jobtitle:e.jobtitle,selected_user_id:e.user_Id,userDetails:e}),this.props.onGetUserDocument(e.user_Id),this.props.onUserManagePayslipsData(e.user_Id)}},{key:"changeEmployeeStatus",value:function(e,t){var a=this;this.props.onChangeEmployeeStatus(e,t).then(function(){if(a.props.onFetchDisabledEmployee(),a.props.usersList.disabled_users.length>0){var e=a.props.usersList.disabled_users[0];a.onUserClick(e)}})}},{key:"render",value:function(){var e=p.a.orderBy(this.props.usersList.disabled_users,"user_Id","asc"),t="";return p.a.isEmpty(this.state.userDetails)||(t=u.a.createElement(O,{userDetails:this.state.userDetails,changeEmployeeStatus:this.changeEmployeeStatus})),u.a.createElement("div",null,u.a.createElement(_.a,this.props),u.a.createElement("div",{id:"content",className:"app-content box-shadow-z0",role:"main"},u.a.createElement(b.a,{pageTitle:"Disabled Employees",showLoading:this.props.frontend.show_loading,userListHeader:!0}),u.a.createElement(v.a,{disabledUser:!0,users:e,selectedUserId:this.state.selected_user_id,onUserClick:this.onUserClick}),u.a.createElement("div",{className:"app-body",id:"view"},u.a.createElement("div",{className:"p-t p-x"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-sm-3 hidden-xs",id:"fixedScroll"},u.a.createElement(h.a,{disabledUser:!0,users:e,selectedUserId:this.state.selected_user_id,onUserClick:this.onUserClick,top:5})),u.a.createElement("div",{className:"col-sm-9 col-xs-12"},u.a.createElement("div",{className:"box"},u.a.createElement("div",{className:"col-xs-12 p-y-sm"},u.a.createElement("h6",{className:"text-center"},"User Details"),u.a.createElement("hr",null)),u.a.createElement("div",{className:"box-body"},t)),u.a.createElement("div",{className:"box"},u.a.createElement("div",{className:"box-body"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xs-6 col-md-6 profile-input"},u.a.createElement("h6",{className:"text-center"},"Previous Payslips"),u.a.createElement("hr",null),u.a.createElement(N.a,{user_payslip_history:this.state.user_payslip_history})),u.a.createElement("div",{className:"col-xs-6 col-md-6 profile-input"},u.a.createElement(P.a,Object.assign({disabled:!0,user_documents:this.state.user_documents,user_id:this.state.selected_user_id,onUpdatedocuments:this.props.onUpdatedocuments},this.props))))))))))))}}]),t}(u.a.Component);var D=Object(d.b)(function(e){return{frontend:e.frontend.toJS(),loggedUser:e.logged_user.userLogin,usersList:e.usersList.toJS(),managePayslips:e.managePayslips.toJS(),manageUsers:e.manageUsers.toJS()}},function(e){return{onIsAlreadyLogin:function(){return e(x.isAlreadyLogin())},onFetchDisabledEmployee:function(){return e(k.a())},onChangeEmployeeStatus:function(t,a){return e(w.c(t,a))},onDeleteDocument:function(t){return e(w.e(t))},onGetUserDocument:function(t){return e(w.h(t))},onUserManagePayslipsData:function(t){return e(S.e(t))}}})(T),U=Object(m.a)(D);t.default=U},566:function(e,t){var a=Array.isArray;e.exports=a},567:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},568:function(e,t,a){"use strict";a.d(t,"i",function(){return d}),a.d(t,"j",function(){return f}),a.d(t,"a",function(){return _}),a.d(t,"h",function(){return b}),a.d(t,"e",function(){return h}),a.d(t,"c",function(){return v}),a.d(t,"g",function(){return E}),a.d(t,"d",function(){return O}),a.d(t,"b",function(){return P}),a.d(t,"f",function(){return k});var n=a(1115),r=a(9),s=a(576),i=a.n(s),o=a(11),c=a(31),l=a(2),u=a(67);function d(e,t){return function(a,r){return new Promise(function(r,s){a(Object(c.b)()),function(e){return Object(o.b)("POST","",{action:"get_user_profile_detail_by_id",user_id:e})}(e).then(function(e){var r;a(Object(c.a)()),0==e.error?a(function(e,t){return{type:l.Ac,payload:e,username:t}}(e.data,t)):a((r=e.data.message,Object(n.a)(l.l)(r)))},function(e){var t;a(Object(c.a)()),a((t="error occurs!!!",Object(n.a)(l.eb)(t)))})})}}function m(e){return Object(n.a)(l.Z)(e)}function f(e){return function(t,a){var r="",s="",i="",f="",p="",_="",y="",b="",h="",v="",g="",j="",E="",O="",N="",P="",x=e.send_slack_msg,k=e.slack_msg,w="",S="",T="",D="";if("undefined"!==typeof e.user_id&&(r=e.user_id),"undefined"!==typeof e.name&&(s=e.name),"undefined"!==typeof e.jobtitle&&(i=e.jobtitle),"undefined"!==typeof e.team&&(f=e.team),"undefined"!==typeof e.dateofjoining&&null!=e.dateofjoining&&(p=e.dateofjoining),"undefined"!==typeof e.training_month&&null!=e.training_month&&(D=e.training_month),"undefined"!==typeof e.work_email&&(_=e.work_email),"undefined"!==typeof e.other_email&&(y=e.other_email),"undefined"!==typeof e.gender&&(b=e.gender),"undefined"!==typeof e.dob&&null!=e.dob){var U=new Date(e.dob);U&&(h=u(U).format("YYYY-MM-DD"))}return"undefined"!==typeof e.marital_status&&(v=e.marital_status),"undefined"!==typeof e.address1&&(g=e.address1),"undefined"!==typeof e.address2&&(j=e.address2),"undefined"!==typeof e.emergency_ph1&&(E=e.emergency_ph1),"undefined"!==typeof e.emergency_ph2&&(O=e.emergency_ph2),"undefined"!==typeof e.blood_group&&(N=e.blood_group),"undefined"!==typeof e.medical_condition&&(P=e.medical_condition),"undefined"!==typeof e.training_completion_date&&null!=e.training_completion_date&&(w=e.training_completion_date),"undefined"!==typeof e.termination_date&&null!=e.termination_date&&(S=e.termination_date),"undefined"!==typeof e.holding_comments&&(T=e.holding_comments),""===r.trim()?Promise.reject("User id is empty"):""===s.trim()?Promise.reject("Name is empty"):""===i.trim()?Promise.reject("Jobtitle is empty"):""===p.trim()?Promise.reject("Joining date is empty"):""===_.trim()?Promise.reject("Work email is empty"):""===y.trim()?Promise.reject("Personal email is empty"):""===b.trim()?Promise.reject("Gender is empty"):""===h.trim()?Promise.reject("Date of birth is empty"):""===v.trim()?Promise.reject("Marital status not selected"):""===g.trim()?Promise.reject("Current address is empty"):""===j.trim()?Promise.reject("Permanent address is empty"):""===E.trim()?Promise.reject("Emmergency contact 1 is empty"):""===O.trim()?Promise.reject("Emmergency contact 2 is empty"):""===N.trim()?Promise.reject("Blood group not selected"):""===P.trim()?Promise.reject("Any medical conditions is empty"):""===D.trim()?Promise.reject("Training month is Empty"):new Promise(function(e,a){t(Object(c.b)()),function(e,t,a,n,r,s,i,c,l,u,d,m,f,p,_,y,b,h,v,g,j,E){return Object(o.b)("POST","",{action:"update_user_profile_detail_by_id",user_id:e,marital_status:u,name:t,jobtitle:a,team:n,dateofjoining:r,work_email:s,other_email:i,gender:c,dob:l,permanent_address:m,current_address:d,emergency_ph1:f,emergency_ph2:p,blood_group:_,medical_condition:y,training_completion_date:b,termination_date:h,training_month:g,holding_comments:v,send_slack_msg:j,slack_msg:E})}(r,s,i,f,p,_,y,b,h,v,g,j,E,O,N,P,w,S,T,D,x,k).then(function(e){var s;t(Object(c.a)()),0==e.error?(t(d(r)),t((s=e.data.message,Object(n.a)(l.vc)(s)))):(t(m(e.data.message)),a(e.data))},function(e){t(Object(c.a)()),t(m("error occurs!!!"))})})}}function p(e){return Object(n.a)(l.p)(e)}function _(e){return function(t,a){var r="",s="",i="",u="",d="",m="",f="",_="";return"undefined"===typeof e.dateofjoining||""==e.dateofjoining?Promise.reject("Date of Joining is empty"):(r=e.dateofjoining,"undefined"===typeof e.name||""==e.name?Promise.reject("Name is empty"):(s=e.name,"undefined"===typeof e.jobtitle||""==e.jobtitle?Promise.reject("Job Title is empty"):(i=e.jobtitle,"undefined"===typeof e.gender||""==e.gender?Promise.reject("Gender is empty"):(u=e.gender,"undefined"===typeof e.dob||""==e.dob?Promise.reject("Date of birth is empty"):(d=e.dob,"undefined"===typeof e.gender||""==e.gender?Promise.reject("Gender is empty"):(u=e.gender,"undefined"===typeof e.username||""==e.username?Promise.reject("Username is empty"):(m=e.username,"undefined"===typeof e.training_month||""==e.training_month?Promise.reject("training month is empty"):(f=e.training_month,"undefined"===typeof e.workemail||""==e.workemail?Promise.reject("Work email is empty"):(_=e.workemail,new Promise(function(e,a){t(Object(c.b)()),function(e,t,a,n,r,s,i,c){return Object(o.b)("POST","",{action:"add_new_employee",dateofjoining:e,name:t,jobtitle:a,gender:n,dob:r,username:s,training_month:i,workemail:c})}(r,s,i,u,d,m,f,_).then(function(r){var s;t(Object(c.a)()),0==r.error?(t((s=r.data,Object(n.a)(l.Db)(s))),e(r.data)):(t(p(r.data.message)),a(r.data.message))},function(e){t(Object(c.a)()),t(p("error occurs!!!")),a("error occurs!!!")})}))))))))))}}function y(e){return Object(n.a)(l.bb)(e)}function b(e){return function(t,a){return new Promise(function(a,r){t(Object(c.b)()),function(e){return Object(o.b)("POST","",{action:"get_user_document_by_id",user_id:e})}(e).then(function(e){var a;t(Object(c.a)()),0==e.error?t((a=e.data,Object(n.a)(l.xc)(a))):t(y(e.data.message))},function(e){t(Object(c.a)()),t(y("error occurs!!!"))})})}}function h(e){return function(t,a){return new Promise(function(a,n){t(Object(c.b)()),function(e){return Object(o.b)("POST","",{action:"delete_user_document",id:e})}(e).then(function(e){t(Object(c.a)()),0==e.error?a(e.data.message):n(e.data.message)},function(e){t(Object(c.a)()),n("error occurs!!")})})}}function v(e,t){return function(a,n){return new Promise(function(a,n){(function(e,t){return Object(o.b)("POST","",{action:"change_employee_status",user_id:e,status:t})})(e,t).then(function(e){0===e.error?a("User disabled"):n(e.data.message)},function(e){n("error occurs!!")})})}}function g(e){return Object(n.a)(l.ec)(e)}function j(e){return Object(n.a)(l.K)(e)}i()(function(e,t,a){return Object(o.b)("POST","",{action:"get_employee_life_cycle",userid:e}).then(function(e){0==e.error?t(g(e.data)):t(j())})},1);function E(e){return function(t,a){return new Promise(function(a,n){(function(e){return Object(o.b)("POST","",{action:"get_employee_life_cycle",userid:e})})(e).then(function(e){0==e.error?(a(e.message),t(g(e.data))):(n(e.data.message),t(j(e.data.message)))},function(e){n("error occurs!!")})})}}function O(e,t){return function(a,r){return new Promise(function(r,s){(function(e,t){return Object(o.b)("POST","",{action:"update_employee_life_cycle",userid:e,stepid:t})})(e,t).then(function(e){var t;0==e.error?r(e.data.message):(s(e.data.message),a((t=e.data.message,Object(n.a)(l.J)(t))))},function(e){s("error occurs!!")})})}}function N(e){return Object(n.a)(l.r)(e)}function P(e){return function(t,a){var r="",s="",i="",u="",d="",m="",f="",p="";return"undefined"!==typeof e.user_id&&(r=e.user_id),"undefined"!==typeof e.signature&&(p=e.signature),"undefined"!==typeof e.permanent_address&&(s=e.permanent_address),"undefined"!==typeof e.emergency_ph1&&(i=e.emergency_ph1),"undefined"!==typeof e.emergency_ph2&&(u=e.emergency_ph2),"undefined"!==typeof e.blood_group&&(d=e.blood_group),"undefined"!==typeof e.medical_condition&&(m=e.medical_condition),"undefined"!==typeof e.holding_comments&&(f=e.holding_comments),""===r.trim()?Promise.reject("User id is empty"):""===p.trim()?Promise.reject("signature is empty"):""===s.trim()?Promise.reject("Permanent address is empty"):""===i.trim()?Promise.reject("Emmergency contact 1 is empty"):""===u.trim()?Promise.reject("Emmergency contact 2 is empty"):""===d.trim()?Promise.reject("Blood group not selected"):""===m.trim()?Promise.reject("Any medical conditions is empty"):new Promise(function(e,a){t(Object(c.b)()),function(e,t,a,n,r,s,i,c){return Object(o.b)("POST","",{action:"update_user_profile_detail_by_id",user_id:e,permanent_address:t,emergency_ph1:a,emergency_ph2:n,blood_group:r,medical_condition:s,holding_comments:i,signature:c})}(r,s,i,u,d,m,f,p).then(function(a){var r;t(Object(c.a)()),0==a.error?(e(a.data),t((r=a.data,Object(n.a)(l.Fb)(r)))):t(N(a.data))},function(e){t(Object(c.a)()),t(N("error occurs!!!"))})})}}function x(e){return Object(n.a)(l.Be)(e)}function k(){return function(e,t){return new Promise(function(t,a){e(Object(c.b)()),Object(o.b)("POST","",{action:"get_enabled_users_brief_details"}).then(function(a){var s;0==a.error?(t(a.data),e(x(a.data)),a.data.length&&e(function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,s){return new Promise(function(s,i){var l=t[a].user_Id;n(Object(c.b)()),function(e){return Object(o.b)("POST","",{action:"get_user_salary_info_by_id",user_id:e})}(l).then(function(s){if("undefined"!==typeof s.data&&"undefined"!==typeof s.data.salary_details&&s.data.salary_details.length>0){s.data;var i=r.orderBy(s.data.salary_details,["date"],["desc"]);t[a].current_salary=i[0].test&&i[0].test.total_salary,n(x(t))}n(Object(c.a)()),t.length>++a&&n(e(t,a))},function(r){n(Object(c.a)()),t.length>++a&&n(e(t,a))})})}}(a.data))):e((s=a.data,Object(n.a)(l.Qc)(s))),e(Object(c.a)())},function(t){console.log("error",t),e(Object(c.a)())})})}}},570:function(e,t,a){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.hasNextTick=t.hasSetImmediate=void 0,t.fallback=u,t.wrap=d;var r,s=a(571),i=(r=s)&&r.__esModule?r:{default:r};var o,c=t.hasSetImmediate="function"===typeof e&&e,l=t.hasNextTick="object"===typeof n&&"function"===typeof n.nextTick;function u(e){setTimeout(e,0)}function d(e){return function(t){var a=(0,i.default)(arguments,1);e(function(){t.apply(null,a)})}}o=c?e:l?n.nextTick:u,t.default=d(o)}).call(this,a(257).setImmediate,a(54))},571:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var a=Math.max(e.length-t,0),n=Array(a),r=0;r<a;r++)n[r]=e[t+r];return n},e.exports=t.default},572:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=void 0;var n,r=a(586),s=(n=r)&&n.__esModule?n:{default:n};var i="function"===typeof Symbol;function o(e){return i&&"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){return o(e)?(0,s.default)(e):e},t.isAsync=o},576:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=(0,r.default)(e);return(0,n.default)(function(e,t){a(e[0],t)},t,1)};var n=s(a(578)),r=s(a(572));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},578:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var u=(0,l.default)(e),d=0,m=[],f=!1;function p(e,t,a){if(null!=a&&"function"!==typeof a)throw new Error("task callback must be a function");if(b.started=!0,(0,r.default)(e)||(e=[e]),0===e.length&&b.idle())return(0,o.default)(function(){b.drain()});for(var n=0,i=e.length;n<i;n++){var c={data:e[n],callback:a||s.default};t?b._tasks.unshift(c):b._tasks.push(c)}f||(f=!0,(0,o.default)(function(){f=!1,b.process()}))}function _(e){return function(t){d-=1;for(var a=0,r=e.length;a<r;a++){var s=e[a],i=(0,n.default)(m,s,0);0===i?m.shift():i>0&&m.splice(i,1),s.callback.apply(s,arguments),null!=t&&b.error(t,s.data)}d<=b.concurrency-b.buffer&&b.unsaturated(),b.idle()&&b.drain(),b.process()}}var y=!1,b={_tasks:new c.default,concurrency:t,payload:a,saturated:s.default,unsaturated:s.default,buffer:t/4,empty:s.default,drain:s.default,error:s.default,started:!1,paused:!1,push:function(e,t){p(e,!1,t)},kill:function(){b.drain=s.default,b._tasks.empty()},unshift:function(e,t){p(e,!0,t)},remove:function(e){b._tasks.remove(e)},process:function(){if(!y){for(y=!0;!b.paused&&d<b.concurrency&&b._tasks.length;){var e=[],t=[],a=b._tasks.length;b.payload&&(a=Math.min(a,b.payload));for(var n=0;n<a;n++){var r=b._tasks.shift();e.push(r),m.push(r),t.push(r.data)}d+=1,0===b._tasks.length&&b.empty(),d===b.concurrency&&b.saturated();var s=(0,i.default)(_(e));u(t,s)}y=!1}},length:function(){return b._tasks.length},running:function(){return d},workersList:function(){return m},idle:function(){return b._tasks.length+d===0},pause:function(){b.paused=!0},resume:function(){!1!==b.paused&&(b.paused=!1,(0,o.default)(b.process))}};return b};var n=u(a(579)),r=u(a(566)),s=u(a(583)),i=u(a(584)),o=u(a(570)),c=u(a(585)),l=u(a(572));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},579:function(e,t,a){var n=a(580),r=a(581),s=a(582);e.exports=function(e,t,a){return t===t?s(e,t,a):n(e,r,a)}},580:function(e,t){e.exports=function(e,t,a,n){for(var r=e.length,s=a+(n?1:-1);n?s--:++s<r;)if(t(e[s],s,e))return s;return-1}},581:function(e,t){e.exports=function(e){return e!==e}},582:function(e,t){e.exports=function(e,t,a){for(var n=a-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}},583:function(e,t){e.exports=function(){}},584:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default},585:function(e,t,a){"use strict";function n(){this.head=this.tail=null,this.length=0}function r(e,t){e.length=1,e.head=e.tail=t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,n.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},n.prototype.empty=function(){for(;this.head;)this.shift();return this},n.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},n.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},n.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):r(this,e)},n.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):r(this,e)},n.prototype.shift=function(){return this.head&&this.removeLink(this.head)},n.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},n.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,a=0;a<this.length;a++)e[a]=t.data,t=t.next;return e},n.prototype.remove=function(e){for(var t=this.head;t;){var a=t.next;e(t)&&this.removeLink(t),t=a}return this},e.exports=t.default},586:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(function(t,a){var r;try{r=e.apply(this,t)}catch(s){return a(s)}(0,n.default)(r)&&"function"===typeof r.then?r.then(function(e){o(a,null,e)},function(e){o(a,e.message?e:new Error(e))}):a(null,r)})};var n=i(a(567)),r=i(a(587)),s=i(a(570));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,a){try{e(t,a)}catch(n){(0,s.default)(c,n)}}function c(e){throw e}e.exports=t.default},587:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,s.default)(arguments),a=t.pop();e.call(this,t,a)}};var n,r=a(571),s=(n=r)&&n.__esModule?n:{default:n};e.exports=t.default},610:function(e,t,a){"use strict";a.d(t,"e",function(){return l}),a.d(t,"f",function(){return u}),a.d(t,"a",function(){return d}),a.d(t,"b",function(){return f}),a.d(t,"c",function(){return _}),a.d(t,"g",function(){return b}),a.d(t,"d",function(){return v});var n=a(1115),r=(a(9),a(23),a(11)),s=a(31),i=a(2);function o(e){return Object(n.a)(i.yc)(e)}function c(e){return Object(n.a)(i.cb)(e)}function l(e){return function(t,a){return new Promise(function(a,n){t(Object(s.b)()),function(e){return Object(r.b)("POST","",{action:"get_user_manage_payslips_data",user_id:e})}(e).then(function(e){if(t(Object(s.a)()),"undefined"!==typeof e.data){var a=e.data;t(o(a))}else t(o([]))},function(e){t(Object(s.a)()),t(c([]))})})}}function u(e,t,a){return function(n,i){return new Promise(function(i,l){n(Object(s.b)()),function(e,t,a){return Object(r.b)("POST","",{action:"get_user_manage_payslips_data",user_id:e,year:t,month:a})}(e,t,a).then(function(e){if(n(Object(s.a)()),"undefined"!==typeof e.data){var t=e.data;n(o(t))}else n(o([]))},function(e){n(Object(s.a)()),n(c([]))})})}}function d(e,t,a){return function(n,i){return new Promise(function(i,c){n(Object(s.b)()),function(e,t,a){return Object(r.b)("POST","",{action:"get_user_manage_payslips_data",user_id:e,extra_arrear:t,arrear_for_month:a})}(e,t,a).then(function(e){if(n(Object(s.a)()),"undefined"!==typeof e.data){var t=e.data;n(o(t))}else n(o([]))},function(e){n(Object(s.a)())})})}}function m(e){return Object(n.a)(i.B)(e)}function f(e){return function(t,a){var o="",c="",l="",u="",d="",f="",p="",_="",y="",b="",h="",v="",g="",j="",E="",O="",N="",P="",x="",k="",w="",S="",T="",D="",U="",A="",M="",C="",L="",I="",B="",J="",R="";return"undefined"===typeof e.user_id||""==e.user_id?Promise.reject("User Id is empty"):(o=e.user_id,"undefined"===typeof e.name||""==e.name?Promise.reject("Name is empty"):(u=e.name,"undefined"===typeof e.year||""==e.year?Promise.reject("Year is empty"):(c=e.year,"undefined"===typeof e.month||""==e.month?Promise.reject("Month is empty"):(l=e.month,"undefined"===typeof e.designation||""==e.designation?Promise.reject("Designation is empty"):(d=e.designation,"undefined"===typeof e.joining_date||""==e.joining_date?Promise.reject("Joining date is empty"):(f=e.joining_date,"undefined"===typeof e.total_working_days||""===e.total_working_days?Promise.reject("Total working days is empty"):(p=e.total_working_days,"undefined"===typeof e.days_present||""===e.days_present?Promise.reject("Days present is empty"):(_=e.days_present,"undefined"===typeof e.paid_leaves||""===e.paid_leaves?Promise.reject("Paid leaves is empty"):(y=e.paid_leaves,"undefined"===typeof e.unpaid_leaves||""===e.unpaid_leaves?Promise.reject("Unpaid leaves is empty"):(b=e.unpaid_leaves,"undefined"===typeof e.total_leave_taken||""===e.total_leave_taken?Promise.reject("Total leave taken is empty"):(h=e.total_leave_taken,"undefined"===typeof e.allocated_leaves||""===e.allocated_leaves?Promise.reject("Allocated leaves is empty"):(v=e.allocated_leaves,"undefined"===typeof e.leave_balance||""===e.leave_balance?Promise.reject("Leave balance is empty"):(g=e.leave_balance,"undefined"===typeof e.final_leave_balance||""===e.final_leave_balance?Promise.reject("Final leave balance is empty"):(j=e.final_leave_balance,"undefined"===typeof e.basic||""===e.basic?Promise.reject("Basic is empty"):(E=e.basic,"undefined"===typeof e.epf||""===e.epf?Promise.reject("EPF is empty"):(O=e.epf,"undefined"===typeof e.hra||""===e.hra?Promise.reject("HRA is empty"):(N=e.hra,"undefined"===typeof e.loan||""===e.loan?Promise.reject("Loan is empty"):(P=e.loan,"undefined"===typeof e.conveyance||""===e.conveyance?Promise.reject("Conveyance is empty"):(x=e.conveyance,"undefined"===typeof e.advance||""===e.advance?Promise.reject("Advance is empty"):(k=e.advance,"undefined"===typeof e.medical_allowance||""===e.medical_allowance?Promise.reject("Medical allowance is empty"):(w=e.medical_allowance,"undefined"===typeof e.misc_deduction||""===e.misc_deduction?Promise.reject("Holding is empty"):(S=e.misc_deduction,"undefined"===typeof e.misc_deduction_2||""===e.misc_deduction_2?Promise.reject("Misc deduction  is empty"):(T=e.misc_deduction_2,"undefined"===typeof e.special_allowance||""===e.special_allowance?Promise.reject("Special allowance is empty"):(D=e.special_allowance,"undefined"===typeof e.tds||""===e.tds?Promise.reject("TDS is empty"):(U=e.tds,"undefined"===typeof e.arrear||""===e.arrear?Promise.reject("Advance is empty"):(A=e.arrear,"undefined"===typeof e.bonus||""===e.bonus?Promise.reject("Bonus is empty"):(M=e.bonus,"undefined"===typeof e.total_earning||""===e.total_earning?Promise.reject("Total earning is empty"):(C=e.total_earning,"undefined"===typeof e.total_deduction||""===e.total_deduction?Promise.reject("Total deduction is empty"):(L=e.total_deduction,"undefined"===typeof e.net_salary||""===e.net_salary?Promise.reject("Net salary is empty"):(I=e.net_salary,"undefined"!==typeof e.send_email_only&&(B=e.send_email_only),"undefined"!==typeof e.send_slack_message&&(J=e.send_slack_message),"undefined"!==typeof e.key&&(R=e.key),new Promise(function(e,a){t(Object(s.b)()),function(e,t,a,n,s,i,o,c,l,u,d,m,f,p,_,y,b,h,v,g,j,E,O,N,P,x,k,w,S,T,D,U,A){var M={action:"create_employee_salary_slip",user_id:e,year:t,month:a,name:n,designation:s,joining_date:i,total_working_days:o,days_present:c,paid_leaves:l,unpaid_leaves:u,total_leave_taken:d,allocated_leaves:m,leave_balance:f,final_leave_balance:p,basic:_,epf:y,hra:b,loan:h,conveyance:v,advance:g,medical_allowance:j,misc_deduction:E,misc_deduction_2:O,tds:P,arrear:x,bonus:k,total_earning:w,total_deduction:S,net_salary:T,send_email:D,send_slack_msg:U};return 1==A?M.special_allowance=N:2==A&&(M.loyalty_bonus=N),Object(r.b)("POST","",M)}(o,c,l,u,d,f,p,_,y,b,h,v,g,j,E,O,N,P,x,k,w,S,T,D,U,A,M,C,L,I,B,J,R).then(function(r){var o;t(Object(s.a)()),0==r.error?(t((o=r.data,Object(n.a)(i.Pb)(o))),e("Payslip generated!!")):(t(m(r.data.message)),a(r.data.message))},function(e){console.log("Tell Arun error occurs on Action - create_user_payslip"),t(Object(s.a)()),t(m("error occurs!!")),a("error occurs!!")})})))))))))))))))))))))))))))))))}}function p(e){return Object(n.a)(i.I)(e)}function _(e){return function(t,a){return new Promise(function(a,n){t(Object(s.b)()),function(e){return Object(r.b)("POST","",{action:"send_payslips_to_employees",payslip_ids:e})}(e).then(function(e){t(Object(s.a)()),"undefined"!==typeof e.error&&0==e.error?(t(o(e.data.message)),a(e.data.message)):(t(p("error occurs!!")),n("error occurs!!"))},function(e){t(Object(s.a)()),t(p("error occurs!!")),n("error occurs!!")})})}}function y(e){return Object(n.a)(i.Q)(e)}function b(e){return function(t,a){return new Promise(function(a,o){t(Object(s.b)()),function(e){return Object(r.b)("POST","",{action:"save_google_payslip_drive_access_token",google_access_token:e})}(e).then(function(e){if(t(Object(s.a)()),"undefined"!==typeof e.error&&0==e.error){var r=e.data.message;t((c=r,Object(n.a)(i.mc)(c))),a(r)}else t(y("error occurs!!")),o("error occurs!!");var c},function(e){t(Object(s.a)()),t(y("error occurs!!")),o("error occurs!!")})})}}function h(e){return Object(n.a)("ACTION_ERROR_GET_TRANSFER")(e)}function v(e){return function(t,a){return 0==e.length?Promise.reject("No user selected"):new Promise(function(a,i){t(Object(s.b)()),function(e){return Object(r.b)("POST","",{action:"get_users_bankaccount_no",user_id:e})}(e).then(function(e){var r;t(Object(s.a)()),0==e.error?(t((r=e.data,Object(n.a)("ACTION_SUCCESS_GET_TRANSFER")(r))),a(e.data)):(t(h(e.data.message)),i(e.data.message))},function(e){t(Object(s.a)()),t(h("error occurs!!")),i("error occurs!!")})})}}},640:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(1),i=a.n(s),o=a(9),c=a.n(o),l=function(e){var t=e.user_payslip_history,a=c.a.map(t,function(e,t){return r.a.createElement("div",{className:"sl-item b-info",key:t},r.a.createElement("div",{className:"sl-content"},r.a.createElement("div",{className:"sl-date text-muted"},"  ",r.a.createElement("b",null,e.month,", ",e.year)),r.a.createElement("div",{className:"sl-date text-muted"},"  ",r.a.createElement("b",null,e.total_leave_taken)," : Total Leave Taken"),r.a.createElement("div",{className:"sl-date text-muted"},"  ",r.a.createElement("b",null,e.leave_balance)," : Leave Balance"),r.a.createElement("div",{className:"sl-date text-muted"},"  ",r.a.createElement("b",null,e.allocated_leaves," : Allocated Leaves")),r.a.createElement("div",{className:"sl-date text-muted"},"  ",r.a.createElement("b",null,e.paid_leaves," : Paid Leaves")),r.a.createElement("div",{className:"sl-date text-muted"},"  ",r.a.createElement("b",null,e.unpaid_leaves," : Unpaid Leaves")),r.a.createElement("div",{className:"sl-date text-muted"},"  ",r.a.createElement("b",null,e.final_leave_balance," : Final Leave Balance")),r.a.createElement("div",{className:"sl-date text-muted"},r.a.createElement("a",{href:"".concat(e.payslip_url),target:"_BLANK"},"View Payslip"))))});return r.a.createElement("div",null,r.a.createElement("div",{className:"box-body"},r.a.createElement("div",{className:"streamline b-l m-l"},a)))};l.PropTypes={user_payslip_history:i.a.array.isRequired},t.a=l},761:function(e,t,a){"use strict";var n=a(25),r=a(26),s=a(29),i=a(27),o=a(28),c=a(12),l=a(0),u=a.n(l),d=a(9),m=(a(123),a(43)),f=a(37),p=(a(23),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={user_id:"",open:!1,doc_type:"",user_token:""},a.deleteDocument=a.deleteDocument.bind(Object(c.a)(Object(c.a)(a))),a.handleOpen=a.handleOpen.bind(Object(c.a)(Object(c.a)(a))),a.handleClose=a.handleClose.bind(Object(c.a)(Object(c.a)(a))),a.callUpdateDocuments=a.callUpdateDocuments.bind(Object(c.a)(Object(c.a)(a))),a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({user_token:Object(f.c)()}),"undefined"!==typeof e.user_id&&null!==e.user_id&&this.setState({user_id:e.user_id})}},{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"callUpdateDocuments",value:function(e){var t=this.state.doc_type,a=this.refs.file.value,n=!1;""===this.state.user_id?(n=!0,Object(m.b)("User not selected")):""===t?(n=!0,Object(m.b)("Please select document type")):""===a?(n=!0,Object(m.b)("Please select a file")):!0!==this.refs.declear.checked&&(n=!0,Object(m.b)("Mark declearation before submit")),n&&e.preventDefault()}},{key:"deleteDocument",value:function(e){var t=this;this.props.onDeleteDocument(e).then(function(e){t.props.onGetUserDocument(t.state.user_id),Object(m.b)(e.toString())}).catch(function(e){Object(m.b)(e.toString())})}},{key:"render",value:function(){var e=this,t=(window.location.href,[]);return d.map(this.props.user_documents,function(a,n){t.push(u.a.createElement("li",{key:n,className:"list-group-item"},u.a.createElement("div",{className:"clear b-t p-t"},u.a.createElement("div",{className:"_500 block"},a.document_type,u.a.createElement("span",{className:"glyphicon glyphicon-remove-circle pull-right pointer",onClick:function(){e.deleteDocument(a.id)}})),"undefined"===typeof a.link_1?"":u.a.createElement("span",{className:"text-muted"},u.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.link_1}}),u.a.createElement("br",null)))))}),u.a.createElement("div",null,u.a.createElement("h6",{className:"text-center"},"Uploaded Documents"),u.a.createElement("br",null),u.a.createElement("div",null,u.a.createElement("ul",{className:"list-group m-b"},0===t.length?u.a.createElement("li",{className:"list-group-item"},u.a.createElement("span",null,"No document uploaded")):t)),u.a.createElement("div",{className:"text-center"},this.props.disabled?"":u.a.createElement("button",{className:"btn info",onClick:function(){return e.props.history.push("/add_documents/".concat(e.state.user_id))}},"Upload New Documents")))}}]),t}(u.a.Component));t.a=p}}]);
//# sourceMappingURL=34.e1c20be8.chunk.js.map