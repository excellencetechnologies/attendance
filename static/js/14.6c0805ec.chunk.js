(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1109:function(e,a,t){"use strict";t.r(a);var l=t(25),s=t(26),n=t(29),i=t(27),r=t(28),o=t(0),d=t.n(o),c=t(36),p=t(1073),h=t(34),y=t(43),m=t(5),u=t(123),g=t(254),E=t(37),f=t(7),v=t(9),b=t(589),N=t.n(b),H=t(170),O=t(605),j=function(e){function a(){return Object(l.a)(this,a),Object(n.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(r.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.holidayType,l=a.yearArray,s=d.a.createElement("img",{src:"./socialMediaIcons/holidays.svg",className:"w-40 img-circle m-x-md"}),n=d.a.createElement("tr",null,d.a.createElement("td",{className:"text-muted text-center",colSpan:4},d.a.createElement("h2",null,s," Loading Holidays...")));return void 0!==this.props.holidays&&0===v.size(this.props.holidays)?n=d.a.createElement("tr",null,d.a.createElement("td",{className:"text-muted text-center",colSpan:4},d.a.createElement("h2",null,s," No Holidays This Year."))):void 0!==this.props.holidays&&(this.props.holidays.sort(function(e,a){return new Date(e.date)-new Date(a.date)}),n=v.map(this.props.holidays,function(a,t){return d.a.createElement("tr",{key:t},d.a.createElement("td",null,a.month),d.a.createElement("td",null,a.date),d.a.createElement("td",null,a.dayOfWeek),d.a.createElement("td",null,a.name),d.a.createElement("td",null,a.type_text),e.props.isAdmin?d.a.createElement("td",null,d.a.createElement("button",{className:"md-btn md-raised m-b-sm danger",id:a.id,onClick:function(t){Object(y.a)("Are you sure ?","Do you want to delete this holiday ?","warning").then(function(t){t&&e.props.deleteHoliday(a.id)})},"aria-hidden":"true"},"Delete")):null)})),d.a.createElement("div",null,d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-5",style:{float:"left"}},d.a.createElement("div",{className:"col-md-3",style:Object(f.a)({paddingLeft:"1px"},"paddingLeft","1px")},d.a.createElement("select",{className:"form-control",ref:"year_holidays",onChange:function(a){e.props.handleYearChange(a)},value:this.props.state.year,style:{minHeight:"0"}},l&&l.map(function(e,a){return d.a.createElement("option",{key:a,value:e},e)})))),this.props.isAdmin?d.a.createElement("div",{className:"col-md-7",style:{float:"right"}},d.a.createElement("div",{className:"col-md-3",style:{paddingTop:"2px",paddingRight:"1px"}},d.a.createElement(N.a,{dateFormat:"YYYY-MM-DD",className:"form-control",onChange:function(a){e.props.handleDateChnage(a)},value:this.props.state.date})),d.a.createElement("div",{className:"col-md-3",style:{paddingLeft:"1px",paddingRight:"1px"}},d.a.createElement(O.a,{onchange:function(a){e.props.handleHolidayNameChnage(a)},value:this.props.state.holidayName,placeHolder:"Holiday Name",style:{minHeight:"0"}})),d.a.createElement("div",{className:"col-md-3",style:{paddingLeft:"1px",paddingRight:"1px"}},d.a.createElement("select",{className:"form-control",ref:"holiday_type",onChange:function(a){e.props.handleTypeChnage(a)},value:this.props.state.type,style:{minHeight:"0"}},t&&t.map(function(e,a){return d.a.createElement("option",{key:a,value:e.type},e.text)}))),d.a.createElement("div",{className:"col-md-3",style:{paddingTop:"2px",paddingLeft:"1px",paddingRight:"1px"}},d.a.createElement(H.a,{className:"col-xs-10 p-y-2 m-b-sm indigo",onClick:function(){return e.props.addHoliday()},label:"Add Holiday",style:{width:"100%"},disabled:""===this.props.state.date||""===this.props.state.holidayName||""===this.props.state.type}))):null),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12"},d.a.createElement("div",{className:"table-responsive box"},d.a.createElement("div",{className:"box-divider m-a-0"}),d.a.createElement("table",{className:"table table-striped"},d.a.createElement("thead",{className:"success"},d.a.createElement("tr",null,d.a.createElement("th",null,"Month"),d.a.createElement("th",null,"Date"),d.a.createElement("th",null,"Day"),d.a.createElement("th",null,"Holiday"),d.a.createElement("th",null,"Type"),this.props.isAdmin?d.a.createElement("th",null,"Actions"):null)),d.a.createElement("tbody",null,n))))))}}]),a}(d.a.Component),C=t(67),x=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(n.a)(this,Object(i.a)(a).call(this,e))).handleDateChnage=function(e){e&&t.setState({date:e,year:C(e).year()})},t.handleHolidayNameChnage=function(e){t.setState({holidayName:e.target.value})},t.handleTypeChnage=function(e){t.setState({type:e.target.value})},t.handleYearChange=function(e){t.setState({year:e.target.value}),t.props.requestHolidayList({year:e.target.value})},t.addHoliday=function(){t.props.requestAddHoliday({data:t.state,token:Object(E.c)()})},t.deleteHoliday=function(e){t.props.requestDeleteHoliday({id:e,token:Object(E.c)()})},t.props.isAlreadyLogin(),t.state={date:"",holidayName:"",type:"",year:""},t.year=[],t}return Object(r.a)(a,e),Object(s.a)(a,[{key:"componentWillMount",value:function(){this.props.requestHolidayList({year:(new Date).getYear()+1900}),this.props.resetReducer(),this.props.requestHolidayType({token:Object(E.c)()}),this.year=Object(E.d)(),this.setState({year:"".concat(this.year[3])})}},{key:"componentWillReceiveProps",value:function(e){var a=e.addHoliday,t=e.holidayType,l=e.deleteHoliday;t&&t.data&&t.data.holiday_type_list&&this.setState({type:"".concat(t.data.holiday_type_list[0].type)}),a.isError&&Object(y.b)("Error !",a.message,"error"),a.isSuccess&&(Object(y.b)("Success !",a.data.message,"success"),this.props.requestHolidayList({year:C(this.state.date).year()}),this.setState({date:"",holidayName:""})),l.isError&&Object(y.b)("Error !",l.message,"error"),l.isSuccess&&(Object(y.b)("Success !",l.data.message,"success"),this.props.requestHolidayList({year:this.state.year}));var s=e.location,n=e.history,i=e.loggedUser,r=e.holidaysList,o=r.isError,d=r.message,c=Object(E.e)(s.pathname,i);c.status&&n.push(c.redirectTo),o&&Object(y.b)("Error !",d,"error"),e.holidayType&&e.holidayType.data&&e.holidayType.data.holiday_type_list&&this.setState({type:"".concat(e.holidayType.data.holiday_type_list[0].type)})}},{key:"render",value:function(){var e=this.props.holidaysList,a=e.isLoading,t=e.data;return d.a.createElement("div",null,d.a.createElement(u.a,this.props),d.a.createElement("div",{id:"content",className:"app-content box-shadow-z0",role:"main"},d.a.createElement(g.a,{pageTitle:"Holidays List",showLoading:a}),d.a.createElement("div",{className:"app-footer"}),d.a.createElement("div",{className:"app-body",id:"view"},d.a.createElement("div",{className:"padding"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-12"},d.a.createElement(j,{holidays:t.holidays,addHoliday:this.addHoliday,isAdmin:"Admin"===this.props.loggedUser.data.role,holidayType:this.props.holidayType.data.holiday_type_list,yearArray:this.year,handleDateChnage:this.handleDateChnage,handleHolidayNameChnage:this.handleHolidayNameChnage,handleTypeChnage:this.handleTypeChnage,handleYearChange:this.handleYearChange,deleteHoliday:this.deleteHoliday,state:this.state})))))))}}]),a}(d.a.Component);a.default=Object(p.a)(Object(c.b)(function(e){return{frontend:e.frontend.toJS(),loggedUser:e.logged_user.userLogin,holidaysList:e.holidaysList.holidaysList,addHoliday:e.holidaysList.addHolidays,deleteHoliday:e.holidaysList.deleteHolidays,holidayType:e.holidaysList.holidayType}},function(e){return Object(h.b)(m,e)})(x))},605:function(e,a,t){"use strict";var l=t(0),s=t.n(l),n=t(1),i=t.n(n),r=function(e){var a=e.className,t=e.ref,l=e.placeHolder,n=e.onchange,i=e.id,r=e.name,o=e.value,d=e.style,c="form-control "+a;return s.a.createElement("input",{type:"text",className:c,ref:t,placeholder:l,onChange:n,id:i,required:!0,name:r,value:o,style:d})};a.a=r,r.PropTypes={className:i.a.string,placeHolder:i.a.string.isRequired,onchange:i.a.func.isRequired,id:i.a.number,name:i.a.string,value:i.a.string,style:i.a.string}}}]);
//# sourceMappingURL=14.6c0805ec.chunk.js.map