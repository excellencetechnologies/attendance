{"version":3,"sources":["modules/addDocuments/container/AddDocuments.jsx","modules/addDocuments/components/FormAddDocuments.jsx","redux/myDocuments/actions/myDocument.js","modules/uploadImageCompressed/UploadImageComp.jsx","redux/uploadImageComp/actions/uploadImageComp.js"],"names":["AddDocuments","props","_this","Object","_home_etech_ReactReduxHR_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_etech_ReactReduxHR_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_etech_ReactReduxHR_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","userid","onIsAlreadyLogin","onUserClick","bind","_home_etech_ReactReduxHR_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","window","scrollTo","isNotValid","isNotUserValid","location","pathname","loggedUser","status","history","push","redirectTo","requestUsersList","concat","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","_components_generic_Menu__WEBPACK_IMPORTED_MODULE_7__","id","className","role","_components_generic_Header__WEBPACK_IMPORTED_MODULE_13__","pageTitle","showLoading","frontend","show_loading","_components_generic_UsersList__WEBPACK_IMPORTED_MODULE_12__","users","usersList","Component","VisibleAddDocuments","connect","toJS","logged_user","userLogin","dispatch","actions","RouterVisibleAddDocuments","withRouter","FormAddDocument","handleClose","setState","open","handleOpen","document_type","token","file","user_id","match","params","userId","page_url","href","imageUrl","handleFileChange","callUpdateDocuments","addEventListener","toggleCollapse","e","type","link1","refs","value","stop","notify","preventDefault","getToken","_this2","Array","from","target","files","reader","FileReader","onloadend","result","readAsDataURL","_this3","material_ui_FlatButton__WEBPACK_IMPORTED_MODULE_17___default","label","primary","onClick","_components_generic_Menu__WEBPACK_IMPORTED_MODULE_9__","_components_generic_Header__WEBPACK_IMPORTED_MODULE_12__","encType","ref","onChange","name","multiple","src","material_ui_Dialog__WEBPACK_IMPORTED_MODULE_16___default","modal","onRequestClose","autoScrollBodyContent","_uploadImageCompressed_UploadImageComp__WEBPACK_IMPORTED_MODULE_13__","url","CONFIG","upload_url","fileName","FormAddDocuments","__webpack_require__","d","__webpack_exports__","getMyDocument","deleteDocument","redux_actions__WEBPACK_IMPORTED_MODULE_0__","_services_index__WEBPACK_IMPORTED_MODULE_2__","_redux_generic_actions_frontend__WEBPACK_IMPORTED_MODULE_3__","_redux_constants__WEBPACK_IMPORTED_MODULE_4__","error_my_document","data","createAction","constants","getState","Promise","resolve","reject","fireAjax","action","then","json","hide_loading","error","message","doc_id","async_deleteDocument","UploadImageComp","classCallCheck","possibleConstructorReturn","getPrototypeOf","loading","handleSubmit","assertThisInitialized","includes","quality","qualityValue","ImageCompressor","compress","formData","FormData","key","append","delete","axios","post","onFetchDevice","onFetchUnapprovedUser","onGetMyDocuments","catch","request","statusText","isRole","onUploadFile","react_default","CircularProgress_default","size","thickness","style","marginLeft","onSubmit","uploadImage","actionsManageDevice","uploadfile","payload","actionMyDocuments"],"mappings":"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","file":"static/js/41.13a4c22d.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport Menu from \"../../../components/generic/Menu\";\nimport { isNotUserValid } from \"../../../services/generic\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport * as actions from \"../../../redux/actions\";\nimport UsersList from \"../../../components/generic/UsersList\";\nimport Header from \"../../../components/generic/Header\";\nimport FormAddDocuments from \"../components/FormAddDocuments\";\n\nclass AddDocuments extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userid: \"\"\n    };\n    this.props.onIsAlreadyLogin();\n    this.onUserClick = this.onUserClick.bind(this);\n  }\n  componentWillReceiveProps(props) {\n    window.scrollTo(0, 0);\n    let isNotValid = isNotUserValid(this.props.location.pathname, props.loggedUser);\n    if (isNotValid.status) {\n      this.props.history.push(isNotValid.redirectTo);\n    }\n  }\n  componentDidMount() {\n    this.props.requestUsersList();\n  }\n  onUserClick(userid) {\n    this.props.history.push(`/add_documents/${userid}`);\n  }\n  render() {\n    return (\n      <div>\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header\n            pageTitle={\"Add Documents\"}\n            showLoading={this.props.frontend.show_loading}\n          />\n          <div className=\"app-body\" id=\"view\">\n            <div className=\"padding\">\n              <div className=\"row\">\n                <div className=\"col-sm-12\" id=\"fixedScroll\">\n                  <UsersList\n                    users={this.props.usersList.users}\n                    onUserClick={this.onUserClick}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nfunction mapStateToProps(state) {\n  return {\n    frontend: state.frontend.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    usersList: state.usersList.toJS()\n  };\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    onIsAlreadyLogin: () => {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    requestUsersList: () => {\n      return dispatch(actions.requestUsersList());\n    }\n  };\n};\nconst VisibleAddDocuments = connect(mapStateToProps, mapDispatchToProps)(\n  AddDocuments\n);\n\nconst RouterVisibleAddDocuments = withRouter(VisibleAddDocuments);\n\nexport default RouterVisibleAddDocuments;\n","import React, { Component } from \"react\";\nimport { CONFIG } from \"../../../config/index\";\nimport { notify } from \"../../../services/notify\";\nimport Menu from \"../../../components/generic/Menu\";\nimport { getToken } from \"../../../services/generic\";\nimport * as actions from \"../../../redux/actions\";\nimport Header from \"../../../components/generic/Header\";\nimport UploadImageComp from \"../../uploadImageCompressed/UploadImageComp\";\nimport { browserHistory } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport Dialog from \"material-ui/Dialog\";\nimport FlatButton from \"material-ui/FlatButton\";\n\nclass FormAddDocument extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      document_type: \"\",\n      token: \"\",\n      file: [],\n      user_id: this.props.match.params.userId,\n      page_url: window.location.href,\n      imageUrl:\"\"\n    };\n    this.props.onIsAlreadyLogin();\n\n    this.handleFileChange = this.handleFileChange.bind(this);\n    this.callUpdateDocuments = this.callUpdateDocuments.bind(this);\n  }\n  componentDidMount() {\n    window.addEventListener(\"resize\", this.toggleCollapse);\n  }\n\n  callUpdateDocuments(e) {\n    let type = this.state.document_type;\n    let link1 = this.refs.file.value;\n    let file = this.state.file[0];\n    let userId = this.props.match.params.userId;\n    let stop = false;\n    if (!userId) {\n      stop = true;\n      notify(\"Warning!\", \"Please select a User.\", \"warning\");\n    } else if (type === \"\") {\n      stop = true;\n      notify(\"Warning!\", \"Please select document type.\", \"warning\");\n    } else if (link1 === \"\") {\n      stop = true;\n      notify(\"Warning!\", \"Please select a file\", \"warning\");\n    }\n\n    if (stop) {\n      e.preventDefault();\n    }\n  }\n  componentWillMount(props) {\n    this.setState({\n      token: getToken()\n    });\n  }\n  handleFileChange(e) {\n    this.setState({ file: Array.from(e.target.files) });\n    const file = this.refs.file.files[0];\n    const reader = new FileReader();\n\n    reader.onloadend = () => {\n      this.setState({\n        imageUrl: reader.result\n      });\n    };\n    if (file) {\n      reader.readAsDataURL(file);\n      this.setState({\n        imageUrl: reader.result\n      });\n    } else {\n      this.setState({\n        imageUrl: \"\"\n      });\n    }\n  }\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n  handleOpen = () => {\n    this.setState({open:true});\n  }\n  render() {\n    const actions = [\n      <FlatButton label=\"Close\" primary={true} onClick={this.handleClose} />\n    ];\n    return <div>\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header pageTitle={\"Add Documents\"} showLoading={this.props.frontend.show_loading} />\n          <br />\n          <br />\n          <div className=\"row p-t-md\">\n            <div className=\"col-sm-offset-3 col-sm-6 p-x-md\">\n              <h6 id=\"uploadMyDoc\" className=\"text-center pointer\">\n                Upload Documents\n              </h6>\n              <div className=\"row box p-a-md m-b-lg \" id=\"uploadDoc\">\n                <form encType=\"multipart/form-data\">\n                  <div className=\"form-group\">\n                    <label className=\"col-sm-12\">Document Type</label>\n                    <select className=\"form-control\" ref=\"document_type\" \n                      onChange={() => {\n                        this.setState({\n                          document_type: this.refs.document_type.value,\n                          file: []\n                        });\n                        this.refs.file.value = \"\";\n                      }} \n                      value={this.state.document_type}>\n                      <option value=\"\">--- Select Doc Type ---</option>\n                      <option value=\"CV\">CV</option>\n                      <option value=\"PAN Card\">PAN Card</option>\n                      <option value=\"Address Proof\">Address Proof</option>\n                      <option value=\"Photo\">Photo</option>\n                      <option value=\"Offer Letter\">Offer Letter</option>\n                      <option value=\"Appointment Letter\">\n                        Appointment Letter\n                      </option>\n                      <option value=\"Previous Company Experience Letter\">\n                        Previous Company Experience Letter\n                      </option>\n                      <option value=\"Previous Company Offer Letter\">\n                        Previous Company Offer Letter\n                      </option>\n                      <option value=\"Previous Company Salary Slip\">\n                        Previous Company Salary Slip\n                      </option>\n                      <option value=\"Previous Company Other Documents\">\n                        Previous Company Other Documents\n                      </option>\n                      <option value=\"Qualification Certificate\">\n                        Qualification Certificate\n                      </option>\n                      <option value=\"Other Documents\">\n                        Other Documents\n                      </option>\n                    </select>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label className=\"col-sm-12\">Attachment </label>\n                    <input type=\"file\" className=\"form-control\" ref=\"file\" name=\"link_1\" multiple=\"multiple\" onChange={this.handleFileChange} />\n                  </div>\n                  <div className=\"form-group\">\n                    {this.state.file[0] ? <div>\n                        <label className=\"col-xs-12\">Image Preview </label>\n                        <img src={this.state.imageUrl} onClick={() => {\n                            this.handleOpen();\n                          }} className=\"small\" />\n                        <br />\n                      </div> : null}\n                    <Dialog actions={actions} modal={false} open={this.state.open} onRequestClose={this.handleClose} autoScrollBodyContent={true}>\n                      <div className=\"thumbnail\">\n                        <img src={this.state.imageUrl} />\n                      </div>\n                    </Dialog>\n                  </div>\n                  <div className=\"form-group col-sm-12\">\n                    <UploadImageComp callUpdateDocuments={this.callUpdateDocuments} url={CONFIG.upload_url} params={this.state} file={this.state.file[0]} fileName=\"link_1\" />\n                  </div>\n                </form>\n              </div>\n              <button className=\"col-xs-8 col-xs-offset-2 col-md-4 col-md-offset-4 md-btn md-raised indigo\" onClick={() => {\n                  this.props.history.push(\"manage_users\");\n                }}>\n                {\" \"}\n                Go to Employee Page\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>;\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    frontend: state.frontend.toJS(),\n    loggedUser: state.logged_user.userLogin,\n    usersList: state.usersList.toJS()\n  };\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    onIsAlreadyLogin: () => {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    requestUsersList: () => {\n      return dispatch(actions.requestUsersList());\n    }\n  };\n};\nconst VisibleAddDocuments = connect(mapStateToProps, mapDispatchToProps)(\n  FormAddDocument\n);\n\nconst FormAddDocuments = withRouter(VisibleAddDocuments);\n\nexport default FormAddDocuments;\n","import {createAction} from 'redux-actions';\nimport {CONFIG} from '../../../config/index';\nimport {fireAjax} from '../../../services/index';\nimport {show_loading, hide_loading} from '../../../redux/generic/actions/frontend';\nimport * as constants from '../../../redux/constants';\n\n// ---------get user document\n\nexport function success_my_document (data) {\n  return createAction(constants.ACTION_SUCCESS_MY_DOCUMENT)(data);\n}\nexport function error_my_document (data) {\n  return createAction(constants.ACTION_ERROR_MY_DOCUMENT)(data);\n}\n\nfunction async_getMyDocument () {\n  return fireAjax('POST', '', {\n    'action': 'get_user_document'\n  });\n}\n\nexport function getMyDocument () {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading());\n      async_getMyDocument().then(\n\n\t\t\t(json) => {\n  dispatch(hide_loading());\n  if (json.error === 0) {\n    dispatch(success_my_document(json.data));\n\t\t\t\t\t// resolve('disabled')\n  } else {\n    dispatch(error_my_document(json.data.message));\n\t\t\t\t\t// reject('response with Error')\n  }\n},\n\t\t\t(error) => {\n  dispatch(hide_loading()); // hide loading icon\n  dispatch(error_my_document('error occurs!!!'));\n\t\t\t\t// reject('error occurs!!')\n}\n\t\t\t);\n    });\n  };\n}\n// ------Delete user document\nfunction async_deleteDocument (doc_id) {\n  return fireAjax('POST', '', {\n    'action': 'delete_user_document',\n    'id':     doc_id\n  });\n}\n\nexport function deleteDocument (doc_id) {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading());\n      async_deleteDocument(doc_id).then(\n        (json) => {\n          dispatch(hide_loading());\n          if (json.error === 0) {\n            resolve(json.data.message);\n          } else {\n            reject(json.data.message);\n          }\n        },\n        (error) => {\n          dispatch(hide_loading()); // hide loading icon\n          reject('error occurs!!');\n        }\n\t\t\t);\n    });\n  };\n}\n","import React, { Component } from \"react\";\nimport ImageCompressor from \"image-compressor.js\";\nimport { notify } from \"../../services/notify\";\nimport { connect } from \"react-redux\";\nimport { qualityValue } from \"../../helper/helper\";\nimport axios from \"axios\";\nimport CircularProgress from \"material-ui/CircularProgress\";\nimport * as actionsManageDevice from \"../../redux/inventory/actions/inventory\";\nimport * as actionsUploadFile from \"../../redux/uploadImageComp/actions/uploadImageComp\";\nimport * as actionMyDocuments from \"../../redux/myDocuments/actions/myDocument\";\nimport { format } from \"url\";\nclass UploadImageComp extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const { params } = this.props;\n    const file = this.props.file;\n    const fileName = this.props.fileName; //the name must be same as in backend\n    const url = this.props.url;\n\n    if (!file) {\n      return;\n    } else if (!file.type.includes(\"image\")) {\n      const formData = new FormData();\n      let isRole = this.props.loggedUser.data.role;\n\n      for (let key in params) {\n        formData.append(key, params[key]);\n      }\n      formData.delete('imageUrl');\n      formData.append(fileName, file);\n      formData.append(\"submit\", \"Upload\");\n\n      this.props.onUploadFile(formData, url,isRole);\n    } else {\n      this.setState({ loading: true });\n      let quality = qualityValue(file);\n      let imageCompressor = new ImageCompressor();\n      imageCompressor\n        .compress(file, {\n          quality: quality\n        })\n        .then(file => {\n          const formData = new FormData();\n          for (let key in params) {\n            formData.append(key, params[key]);\n          }\n          formData.delete('imageUrl'); //IMPORTANT: it is the image in ImagePreview  \n          formData.append(fileName, file, file.name);\n          formData.append(\"submit\", \"Upload\");\n          // Send the compressed image file to server with XMLHttpRequest.\n          // this.props.uploadFile(formData, url);\n          axios\n            .post(url, formData)\n            .then(data => {\n              notify(\"Success !\", `File uploaded successfully`, \"success\");\n              this.setState({ loading: false });\n              if (\n                this.props.loggedUser.data.role === \"Admin\"\n              ) {\n                this.props.onFetchDevice();\n                this.props.onFetchUnapprovedUser();\n                this.props.onGetMyDocuments();\n              }\n              else if(this.props.loggedUser.data.role === \"HR\"\n            ){\n              return;\n              // this.props.onFetchDevice();\n            }\n            else{\n              this.props.onGetMyDocuments();\n            }\n            })\n            .catch(error => {\n              if (error.request.status === 413) {\n                notify(\"Error\", \"File too large to upload\", \"error\");\n                this.setState({ loading: false });\n              }\n              else{\n                notify(\"Error\", error.request.statusText, \"error\");\n                this.setState({ loading: false });\n              }\n            });\n        });\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.props.loading || this.state.loading ? (\n          <CircularProgress\n            size={30}\n            thickness={3}\n            style={{ marginLeft: \"50%\" }}\n          />\n        ) : (\n          <form onSubmit={this.handleSubmit}>\n            <input\n              type=\"submit\"\n              name=\"submit\"\n              value=\"Upload\"\n              className=\"col-xs-12 md-btn md-raised indigo\"\n              onClick={e => this.props.callUpdateDocuments(e)}\n            />\n          </form>\n        )}\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  loading: state.uploadImage.loading,\n  loggedUser: state.logged_user.userLogin\n});\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchDevice: () => {\n      return dispatch(actionsManageDevice.get_machines_detail());\n    },\n    onUploadFile: () => {\n      return dispatch(actionsUploadFile.uploadFile());\n    },\n    onFetchUnapprovedUser: () => {\n      return dispatch(actionsManageDevice.unapprovedUser());\n    },\n    onGetMyDocuments: () => {\n      return dispatch(actionMyDocuments.getMyDocument());\n    }\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(UploadImageComp);\n","import { createAction } from \"redux-actions\";\nimport { uploadfile } from \"../../../services/index\";\nimport { notify } from \"../../../services/notify\";\nimport { show_loading, hide_loading } from \"../../../redux/generic/actions/frontend\";\nimport * as actionsManageDevice from \"../../../redux/inventory/actions/inventory\";\nimport * as actionMyDocuments from \"../../../redux/myDocuments/actions/myDocument\";\n\nexport const uploadFile = (formData, url, isRole) => dispatch => {\n  dispatch({ type: \"UPLOADING_FILE\" });\n  uploadfile(formData, url).then(data => {\n    dispatch({ type: \"UPLOAD_FILE\", payload: data });\n    notify(\"Success !\", `File uploaded successfully`, \"success\");\n    if (isRole === \"Admin\") {\n      dispatch(actionsManageDevice.get_machines_detail());\n      dispatch(actionsManageDevice.unapprovedUser());\n      dispatch(actionMyDocuments.getMyDocument());\n    } else if (isRole === \"HR\") {\n      return;\n    } else {\n      dispatch(actionMyDocuments.getMyDocument());\n    }\n  }).catch(error => {\n    dispatch({ type: \"UPLOAD_FILE\", payload: false });\n    notify('Error',error,'error')\n  });\n};\n"],"sourceRoot":""}