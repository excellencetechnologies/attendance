(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1095:function(e,a,l){"use strict";l.r(a);var t=l(25),s=l(26),c=l(29),n=l(27),r=l(28),i=l(12),m=l(0),o=l.n(m),d=l(36),v=l(1073),y=l(9),u=l.n(y),p=l(123),E=l(37),N=l(254),h=l(255),w=l.n(h),_=(o.a.Component,l(1)),b=l.n(_),f=function(e){var a=e.data,l=e.viewSalarySummary,t=u.a.map(a,function(e,a){return o.a.createElement("div",{id:"slip"+a,className:"sl-item b-info",key:a,onClick:function(){return l(e.test.id)},style:{cursor:"pointer"}},o.a.createElement("div",{className:"sl-content"},o.a.createElement("div",{className:"sl-date text-muted"},"  Applicable From  : ",e.test.applicable_from),o.a.createElement("div",{className:"sl-date text-muted"}," Updated on : ",e.test.last_updated_on," "),o.a.createElement("div",null,o.a.createElement("b",null,"Rs.",e.test.total_salary," "))))});return o.a.createElement("div",{id:"salary_revisions"},o.a.createElement("div",{className:"box-body"},o.a.createElement("div",{className:"streamline b-l m-l"},t)))};f.PropTypes={data:b.a.array.isRequired,viewSalarySummary:b.a.func.isRequired};var g=l(703),S=l(5),x=l(636),O=l(702),j=l(890),A=function(e){function a(e){var l;return Object(t.a)(this,a),(l=Object(c.a)(this,Object(n.a)(a).call(this,e))).props.onIsAlreadyLogin(),l.viewSalarySummary=l.viewSalarySummary.bind(Object(i.a)(Object(i.a)(l))),l.state={view_salary_id:!1,salary_details:{},holding_amt:"",payslip_history:[]},l}return Object(r.a)(a,e),Object(s.a)(a,[{key:"componentWillMount",value:function(){this.props.onSalaryDetails()}},{key:"componentWillReceiveProps",value:function(e){var a=Object(E.e)(this.props.location.pathname,e.loggedUser);a.status&&this.props.history.push(a.redirectTo);var l={},t=[],s=[];if(!1===this.state.view_salary_id){if("undefined"!==typeof e.salary.salary_history&&e.salary.salary_history.length>0)l=e.salary.salary_history[0],t=e.salary.salary_history;"undefined"!==typeof e.salary.payslip_history&&e.salary.payslip_history.length>0&&(s=e.salary.payslip_history)}this.setState({salary_details:l,salary_history:t,payslip_history:s})}},{key:"viewSalarySummary",value:function(e){var a=this.state.salary_details;y.forEach(this.state.salary_history,function(l,t){l.test.id===e&&(a=l)}),this.setState({salary_details:a})}},{key:"render",value:function(){var e;return j.isMobile?this.props.salary.salary_history&&(e=this.props.salary.salary_history.map(function(e,a){return o.a.createElement(O.a,{key:a,item:e})})):e=o.a.createElement("div",{className:"not-displayed"},"Your salary details are hidden on desktop for your own security purpose, you can only view your salary on mobile."),o.a.createElement("div",null,o.a.createElement(p.a,this.props),o.a.createElement("div",{id:"content",className:"app-content box-shadow-z0",role:"main"},o.a.createElement(N.a,{pageTitle:"Salary",showLoading:this.props.frontend.show_loading}),o.a.createElement("div",{className:"app-body",id:"view"},o.a.createElement("div",{className:"padding"},o.a.createElement("div",{className:"box"},o.a.createElement("div",{className:"box-divider m-a-0"}),o.a.createElement("div",{className:"box-body"},o.a.createElement("div",{className:"content-salary my-salary"},o.a.createElement("h6",{className:"salary-block-title"},"Salary Details"),o.a.createElement("hr",null),e),o.a.createElement("div",{className:"row payslips"},o.a.createElement("div",{className:"col-sm-12 col-xs-12",id:"payslips"},o.a.createElement("h6",{className:"salary-block-title"},"Previous Payslips"),o.a.createElement("hr",null),o.a.createElement(g.a,{payslip_history:this.state.payslip_history})))))))))}}]),a}(o.a.Component);A.styles={height100per:{minHeight:"150px"}};var M=Object(d.b)(function(e){return{frontend:e.frontend.toJS(),loggedUser:e.logged_user.userLogin,salary:e.salary.toJS()}},function(e){return{onIsAlreadyLogin:function(){return e(S.isAlreadyLogin())},onSalaryDetails:function(){return e(x.b())}}})(A),k=Object(v.a)(M);a.default=k},636:function(e,a,l){"use strict";l.d(a,"b",function(){return i}),l.d(a,"a",function(){return m});var t=l(1112),s=(l(9),l(23),l(11)),c=(l(173),l(31)),n=l(2);function r(e){return Object(t.a)(n.lc)(e)}function i(){return function(e,a){return new Promise(function(a,l){e(Object(c.b)()),Object(s.b)("POST","",{action:"get_user_salary_info"}).then(function(l){var s;e(Object(c.a)()),console.log("json",l),"undefined"!==typeof l.data&&"undefined"!==typeof l.data.salary_details?(a(l.data),e(r(l.data))):e((s=[],Object(t.a)(n.i)(s)))},function(a){e(Object(c.a)()),e(r([]))})})}}function m(){return function(e,a){return new Promise(function(a,l){e(Object(c.b)()),Object(s.b)("POST","",{action:"get_all_users_detail"}).then(function(l){var s;e(Object(c.a)()),"undefined"!==typeof l.data&&l.data.length>0?(e((s=l.data,Object(t.a)(n.Bc)(s))),a()):(e(function(e){return Object(t.a)(n.m)(e)}([])),a())},function(l){var s;e(Object(c.a)()),a(),e((s=[],Object(t.a)(n.fb)(s)))})})}}},702:function(e,a,l){"use strict";var t=l(0),s=l.n(t),c=l(9),n=l(67),r=l.n(n);a.a=function(e){var a=e.item,l=e.userid,t=e.displayPage,n=e.viewSalarySummary,i=e.callDeleteUserSalary,m=e.salaryStructure,o=e.callAddUserHolding,d=(1*a.Basic+1*a.HRA+1*a.Conveyance+1*a.Medical_Allowance+1*a.Special_Allowance+1*a.Arrears).toFixed(2),v=(1*a.EPF+1*a.Loan+1*a.Advance+1*a.Misc_Deductions+1*a.TDS).toFixed(2),y=function(e){var a=Number(e);return Math.round(a)===a?a:a.toFixed(2)},u=Object(c.orderBy)(m.salary_details,["date"],["desc"]),p=Object(c.orderBy)(m.holding_details,["last_updated_on"],["desc"]),E=!1;u.length>0&&p.length>0&&(E=u[0].date===a.date&&p[0].holding_amt>0);return s.a.createElement("div",{className:"row salary-blocks-margin salary-row-bg",onClick:function(e){return"manage"===t&&n(e,a.test.id)}},s.a.createElement("div",{className:"col-md-12 col-sm-12 salary-col-title-padding"},s.a.createElement("div",null,s.a.createElement("span",{className:"salary-title"},"Applicable From: ")," ",r()(a.test.applicable_from).format("DD-MMMM-YYYY")||"--"," ",s.a.createElement("span",{className:"divider"},"|"),s.a.createElement("span",{className:"salary-title"}," Applicable Till: ")," ","".concat(a.test.applicable_month?a.test.applicable_month+" months":"--"," (").concat(r()(a.test.applicable_till).format("DD-MMMM-YYYY")||"--",")")," ",s.a.createElement("span",{className:"divider"},"|"),s.a.createElement("span",{className:"salary-title"}," Increment Amount: ")," ",a.Increment_Amount||"--"," ",s.a.createElement("span",{className:"divider"},"|"),s.a.createElement("span",{className:"salary-title"}," Leaves Allocated: ")," ",a.test.leaves_allocated||"--"," ",s.a.createElement("span",{className:"divider"},"|"),s.a.createElement("span",{className:"salary-title"}," Updated On: ")," ",r()(a.test.last_updated_on).format("DD-MMMM-YYYY")||"--")),s.a.createElement("div",{className:"col-md-12 salary-col-padding salary-details"},s.a.createElement("div",{className:"col-md-1 col-sm-2 col-xs-12 salary-total-width"},s.a.createElement("div",{className:"col-sm-12 salary-total-title"},"Total"),s.a.createElement("div",{className:"col-sm-12 salary-total-value"},a.test.total_salary)),s.a.createElement("div",{className:"col-md-5 col-sm-10 col-xs-12 bg-success salary-block salary-addition-width"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"col-sm-12 salary-total-title"},"Total Earnings"),s.a.createElement("div",{className:"col-sm-12 salary-total-value"},d)),s.a.createElement("div",{className:"col-sm-2 col-xs-12 cell salary-basic-width"},s.a.createElement("div",{className:"col-sm-12 salary-title"},"Basic"),s.a.createElement("div",{className:"col-sm-12"},y(a.Basic))),s.a.createElement("div",{className:"col-sm-2 col-xs-12 cell salary-hra-width"},s.a.createElement("div",{className:"col-sm-12 salary-title"},"HRA"),s.a.createElement("div",{className:"col-sm-12"},y(a.HRA))),s.a.createElement("div",{className:"col-sm-2 col-xs-12 cell salary-conveyance-width"},s.a.createElement("div",{className:"col-sm-12 salary-title"},"Conveyance"),s.a.createElement("div",{className:"col-sm-12"},y(a.Conveyance))),s.a.createElement("div",{className:"col-sm-2 col-xs-12 cell salary-medical-width"},s.a.createElement("div",{className:"col-sm-12 salary-title"},"Medical Allowance"),s.a.createElement("div",{className:"col-sm-12"},y(a.Medical_Allowance))),s.a.createElement("div",{className:"col-sm-2 col-xs-12 cell salary-special-width"},s.a.createElement("div",{className:"col-sm-12 salary-title"},"Special Allowance"),s.a.createElement("div",{className:"col-sm-12"},y(a.Special_Allowance))),s.a.createElement("div",{className:"col-sm-2 col-xs-12 cell salary-arrears-width"},s.a.createElement("div",{className:"col-sm-12 salary-title"},"Arrears"),s.a.createElement("div",{className:"col-sm-12"},y(a.Arrears)))),s.a.createElement("div",{className:"col-md-6 col-sm-12 col-xs-12 bg-danger salary-block salary-deduction-width"},s.a.createElement("div",{className:"col-sm-8"},s.a.createElement("div",{className:"col-sm-12 salary-total-title"},"Total Deductions"),s.a.createElement("div",{className:"col-sm-12 salary-total-value"},v)),s.a.createElement("div",{className:"col-sm-4 col-xs-12 cell remove-holding-btn-wrapper"},E&&s.a.createElement("span",{className:"remove-holding-btn",onClick:function(){return function(){var e={user_id:l,holding_from:r()().format("YYYY-MM-DD"),holding_till:12,holding_amount:"0",reason:"Holding removed using button click"};o(e)}()}},"Remove Holding")),s.a.createElement("div",{className:"col-sm-2 col-xs-12 cell salary-epf-width"},s.a.createElement("div",{className:"col-sm-12 salary-title"},"EPF"),s.a.createElement("div",{className:"col-sm-12"},y(a.EPF))),s.a.createElement("div",{className:"col-sm-2 col-xs-12 cell salary-loan-width"},s.a.createElement("div",{className:"col-sm-12 salary-title"},"Loan"),s.a.createElement("div",{className:"col-sm-12"},y(a.Loan))),s.a.createElement("div",{className:"col-sm-2 col-xs-12 cell salary-advance-width"},s.a.createElement("div",{className:"col-sm-12 salary-title"},"Advance"),s.a.createElement("div",{className:"col-sm-12"},y(a.Advance))),s.a.createElement("div",{className:"col-sm-2 col-xs-12 cell salary-miscdeductions-width"},s.a.createElement("div",{className:"col-sm-12 salary-title"},"Misc Deductions"),s.a.createElement("div",{className:"col-sm-12"},y(a.Misc_Deductions))),s.a.createElement("div",{className:"col-sm-1 col-xs-12 cell salary-tds-width"},s.a.createElement("div",{className:"col-sm-12 salary-title"},"TDS"),s.a.createElement("div",{className:"col-sm-12"},y(a.TDS))),"manage"===t?s.a.createElement("div",{className:"col-sm-3 col-xs-12 cell center salary-options-width"},s.a.createElement("div",{className:"text-center"},s.a.createElement("i",{className:"material-icons delete-icon",onClick:function(e){return i(e,a.test.user_Id,a.test.id)}},"delete_forever"))):"")))}},703:function(e,a,l){"use strict";var t=l(0),s=l.n(t),c=l(1),n=l.n(c),r=l(9),i=l.n(r),m=l(171),o=function(e){var a=e.payslip_history,l=i.a.map(a,function(e,a){return s.a.createElement("div",{className:"row",key:a},s.a.createElement("div",{className:"col-sm-1 w-15"},s.a.createElement("div",{className:"col-sm-12 m-view"},"Month"),s.a.createElement("div",{className:"col-sm-12"},Object(m.a)().months[parseInt(e.month)-1]," , ",e.year)),s.a.createElement("div",{className:"col-sm-1 w-15"},s.a.createElement("div",{className:"col-sm-12 m-view"},"Total Leave Taken"),s.a.createElement("div",{className:"col-sm-12"},e.total_leave_taken)),s.a.createElement("div",{className:"col-sm-2 w-13"},s.a.createElement("div",{className:"col-sm-12 m-view"},"Leave Balance"),s.a.createElement("div",{className:"col-sm-12"},e.leave_balance)),s.a.createElement("div",{className:"col-sm-2 w-15"},s.a.createElement("div",{className:"col-sm-12 m-view"},"Allocated Leaves"),s.a.createElement("div",{className:"col-sm-12"},e.allocated_leaves)),s.a.createElement("div",{className:"col-sm-2 w-13"},s.a.createElement("div",{className:"col-sm-12 m-view"},"Paid Leaves"),s.a.createElement("div",{className:"col-sm-12"},e.paid_leaves)),s.a.createElement("div",{className:"col-sm-2 w-13"},s.a.createElement("div",{className:"col-sm-12 m-view"},"Unpaid Leaves"),s.a.createElement("div",{className:"col-sm-12"},e.unpaid_leaves)),s.a.createElement("div",{className:"col-sm-2 w-15"},s.a.createElement("div",{className:"col-sm-12 m-view"},"Final Leave Balance"),s.a.createElement("div",{className:"col-sm-12"},e.final_leave_balance)))});return s.a.createElement("div",{className:"row content-payslips"},s.a.createElement("b",null,s.a.createElement("div",{className:"col-sm-1 l-view w-15"},"Month"),s.a.createElement("div",{className:"col-sm-1 l-view w-15"},"Total Leave Taken"),s.a.createElement("div",{className:"col-sm-2 l-view w-13"},"Leave Balance"),s.a.createElement("div",{className:"col-sm-2 l-view w-15"},"Allocated Leaves"),s.a.createElement("div",{className:"col-sm-2 l-view w-13"},"Paid Leaves"),s.a.createElement("div",{className:"col-sm-2 l-view w-13"},"Unpaid Leaves"),s.a.createElement("div",{className:"col-sm-2 l-view w-15"},"Final Leave Balance")),s.a.createElement("div",{className:"payslip_row"},l))};o.PropTypes={payslip_history:n.a.array.isRequired},a.a=o}}]);
//# sourceMappingURL=19.a93757f7.chunk.js.map