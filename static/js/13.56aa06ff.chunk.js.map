{"version":3,"sources":["modules/leave/components/applyLeave/AddLeaveDocument.jsx","modules/leave/components/applyLeave/ApplyLeaveForm.jsx","modules/leave/containers/applyLeave.jsx","redux/leave/actions/listLeaves.js","redux/leave/actions/manageLeave.js","redux/leave/actions/applyLeave.js"],"names":["AddLeaveDocument","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","react_default","a","createElement","Dialog_default","title","modal","open","props","onRequestClose","handleClose","contentClassName","autoScrollBodyContent","method","encType","type","name","className","ref","value","React","Component","ApplyLeaveForm","status_message","id","form_from_date","form_to_date","form_no_of_days","form_reason","day_status","show_half_day_button","leaveType","late_reason","bind","assertThisInitialized","handleOpen","doApplyLeave","handleStartDate","handleEndDate","_apply_half_day_1","onDaysBetweenLeaves","setState","shift","date","startDate","format","endDate","evt","length","forAdmin","selectedUserId","notify","preventDefault","num_working_days","applyLeave","count_working_days","start_date","end_date","_this2","policyLink","policyDocuments","data","map","val","i","key","href","link","target","dateDiff","moment","diff","apply_half_day_button_1","apply_half_day_button_2","buttons","onClick","label","width","lib","onChange","role","onSubmit","style","e","required","disabled","refs","reason","marginTop","paddingLeft","background","display","AddLeaveDocument_AddLeaveDocument","ApplyLeave","onIsAlreadyLogin","defaultUserDisplay","selected_user_name","selected_user_image","selected_user_jobtitle","selected_user_id","show_status_message","onUserClick","onFetchUserPolicyDocument","window","scrollTo","isNotValid","isNotUserValid","location","pathname","loggedUser","status","history","push","redirectTo","CONFIG","ADMIN","HR","onUsersList","usersList","users","defaultUserId","user_Id","userid","userDetails","_","slack_profile","image_192","jobtitle","start","end","days","onApplyLeave","then","catch","error","padding","marginLeft","mainDivs","UsersList","top","applyLeave_ApplyLeaveForm","assign","Menu","Header","pageTitle","showLoading","frontend","show_loading","userListHeader","UsersListHeader","styles","height100per","minHeight","VisibleApplyLeave","connect","toJS","logged_user","userLogin","policyDocument","dispatch","actions","from_date","to_date","no_of_days","userId","actions_apply_leave","actions_usersList","onDocRequired","leaveid","comment","actions_manageLeave","RouterVisibleApplyLeave","withRouter","__webpack_require__","d","__webpack_exports__","getAllLeaves","redux_actions__WEBPACK_IMPORTED_MODULE_0__","_services_index__WEBPACK_IMPORTED_MODULE_4__","_redux_constants__WEBPACK_IMPORTED_MODULE_5__","_redux_generic_actions_frontend__WEBPACK_IMPORTED_MODULE_6__","list_leaves_error","err","createAction","constants","getState","Promise","resolve","reject","fireAjax","action","json","hide_loading","message","changeLeaveStatus","docRequired","onAddExtraDay","onAddDescription","leaveRevertRequest","_listLeaves__WEBPACK_IMPORTED_MODULE_7__","newstatus","messagetouser","reslove","async_changeLeaveStatus","actions_listLeaves","leave_status_change_fail","doc_request","async_docRequired","token","extra_day","async_onAddExtraDay","hr","hr_comment","hr_approve","async_onAddDescription","async_leaveRevertRequest","apply_leave","getDaysBetweenLeaves","lodash__WEBPACK_IMPORTED_MODULE_1__","leave_sucess","leave_fail","leave_error","pending_id","year","month","leave_type","async_apply_leave","user_id","async_apply_employe_leave","async_getDaysBetweenLeaves","days_between_leaves_fail"],"mappings":"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","file":"static/js/13.56aa06ff.chunk.js","sourcesContent":["import React from 'react'\nimport Dialog from 'material-ui/Dialog';\n\nexport default class AddLeaveDocument extends React.Component{\n    constructor(){\n        super();\n        this.state = {\n\n        };\n    }\n    render(){\n        return(\n            <Dialog title=\"Upload Leave Document\"\n          modal={false}\n          open={this.props.open}\n          onRequestClose={this.props.handleClose}\n          contentClassName=\"dialog-content\"\n          autoScrollBodyContent>\n          <div>\n            <form  method=\"POST\" encType=\"multipart/form-data\">\n              <input type=\"hidden\" name=\"token\"  />\n              <input type=\"hidden\" name=\"leaveid\"  />\n              <input type=\"hidden\" name=\"page_url\" />\n              <div className=\"form-group\">\n                <label>Attachment</label>\n                <input type=\"file\" className=\"form-control\" ref=\"file\" name=\"docProof\" />\n              </div>\n              <div className=\"form-group\">\n                <input type=\"submit\" name=\"submit\" value=\"Upload\" className=\"col-xs-12 md-btn md-raised indigo\" />\n              </div>\n            </form>\n          </div>\n        </Dialog>\n        )\n    }\n}","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport {Calendar} from 'react-date-range';\nimport {notify} from '../../../../services/notify';\nimport {Button, ButtonRaised, ButtonFlat} from '../../../../components/generic/buttons';\nimport AddLeaveDocument from './AddLeaveDocument'\n\n\n \nclass ApplyLeaveForm extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      status_message:      '',\n      open:       false,\n      id:         '',\n      form_from_date:       '',\n      form_to_date:         '',\n      form_no_of_days:      '',\n      form_reason:          '',\n      day_status:           '',\n      show_half_day_button: '',\n      leaveType:            '',\n      late_reason:          ''\n    };\n    this.handleClose = this.handleClose.bind(this);\n    this.handleOpen = this.handleOpen.bind(this);\n    this.doApplyLeave = this.doApplyLeave.bind(this);\n    this.handleStartDate = this.handleStartDate.bind(this);\n    this.handleEndDate = this.handleEndDate.bind(this);\n    this._apply_half_day_1 = this._apply_half_day_1.bind(this);\n  }\n  componentDidMount () {}\n\n  componentDidUpdate () {\n    if (this.state.form_from_date != '' && this.state.form_to_date != '' && this.state.form_no_of_days == '') {\n      this.props.onDaysBetweenLeaves(this.state.form_from_date, this.state.form_to_date);\n    }\n  }\n\n  handleClose () {\n    this.setState({\n      open:          false,\n      status_message:'',\n    });\n  }\n  handleOpen () {\n    this.setState({\n      status_message:'',\n      open:          true,\n    });\n  }\n  _apply_half_day_1 (shift) {\n    if (shift == 1) {\n      this.setState({\n        form_no_of_days: '0.5',\n        day_status:      '1'\n      });\n    } else if (shift == 2) {\n      this.setState({\n        form_no_of_days: '0.5',\n        day_status:      '2'\n      });\n    }\n  }\n\n  handleStartDate (date) {\n    let startDate = date.format('YYYY-MM-DD');\n    this.setState({form_from_date: startDate, form_no_of_days: ''});\n  }\n  handleEndDate (date) {\n    let endDate = date.format('YYYY-MM-DD');\n    this.setState({form_to_date: endDate, form_no_of_days: ''});\n  }\n  \n\n \n  doApplyLeave (evt) {\n    var reason_letter_count = this.state.form_reason\n    if(reason_letter_count.length > 30){\n      if (this.props.forAdmin == true) {\n        this.props.doApplyLeave(this.state.form_from_date, this.state.form_to_date, this.state.form_no_of_days, this.state.form_reason, this.props.selectedUserId, this.state.day_status, this.state.leaveType, this.state.late_reason);\n        this.setState({\n          form_from_date:       '',\n          form_to_date:         '',\n          form_no_of_days:      '',\n          form_reason:          '',\n          show_half_day_button: '',\n          day_status:           '',\n          leaveType:            '',\n          late_reason:          ''\n        });\n        \n        // notify(\"leave Applied\");\n      } else {\n        this.props.doApplyLeave(this.state.form_from_date, this.state.form_to_date, this.state.form_no_of_days, this.state.form_reason, '', this.state.day_status, this.state.leaveType, this.state.late_reason);\n        this.setState({\n          form_from_date:       '',\n          form_to_date:         '',\n          form_no_of_days:      '',\n          form_reason:          '',\n          show_half_day_button: '',\n          day_status:           '',\n          leaveType:            '',\n          late_reason:          ''\n        });\n        \n      }\n    }\n    else{\n      notify('Warning','Explain your leave in detail, write atleast 2-3 lines','warning');\n    }\n    evt.preventDefault();\n   \n  }\n  componentWillReceiveProps (props) {\n    let num_working_days = '0';\n    if (props.applyLeave.count_working_days != '' && props.applyLeave.count_working_days != 0) {\n      num_working_days = props.applyLeave.count_working_days;\n    }\n\n    this.setState({form_from_date: props.applyLeave.start_date, form_to_date: props.applyLeave.end_date, form_no_of_days: num_working_days});\n  }\n  render () {\n    let policyLink = this.props.policyDocuments.data.map((val, i) => {\n      if (val.name === 'Leave Policy') {\n        return <a key={i} href={val.link} target=\"_blank\" ><label key={i} className=\"pointer m-t-xs\">Read Leave Policy</label></a>;\n      }\n    });\n    let dateDiff = moment(moment().format('YYYY-MM-DD')).diff(this.state.form_from_date || moment().format('YYYY-MM-DD'), 'days');\n    let apply_half_day_button_1 = '';\n    let apply_half_day_button_2 = '';\n    if (this.state.form_no_of_days == 1) {\n      apply_half_day_button_1 = <ButtonFlat className=\"text-accent\" onClick={() => this._apply_half_day_1(1)} label=\"Apply Leave For First Half\" />;\n      apply_half_day_button_2 = <ButtonFlat className=\"text-accent\" onClick={() => this._apply_half_day_1(2)} label=\"Apply Leave For Second Half\" />;\n    }\n    let width = '63%';\n    if (this.props.forAdmin == true) {\n      width = '82%';\n    }\n    return (\n      <div className=\"row\">\n        <div className=\"col-xs-6 col-md-4 text-center calendar\">\n          <h6>Select Start Date</h6>\n          <Calendar onChange={this.handleStartDate} />\n        </div>\n        <div className=\"col-xs-6 col-md-4 text-center calendar\">\n          <h6>Select End Date</h6>\n          <Calendar onChange={this.handleEndDate} />\n        </div>\n        <div className=\"col-xs-12 col-md-4\">\n          <h5>Leave Summary</h5>\n          <br />\n          <form role=\"form\" onSubmit={this.doApplyLeave}>\n            <div className=\"box-body\">\n              <div className=\"streamline b-l m-l\">\n                <div className=\"sl-item b-success\">\n                  <div className=\"sl-icon\">\n                    <i className=\"fa fa-check\"></i>\n                  </div>\n                  <div className=\"sl-content\">\n                    <div className=\"sl-date text-muted\">Your leave starts from</div>\n                    <div>\n                      {this.state.form_from_date}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"sl-item b-info\">\n                  <div className=\"sl-content\">\n                    <div style={{width: width}}>\n                      <select value={this.state.leaveType} onChange={(e) => { this.setState({leaveType: e.target.value}); }} className=\"form-control\" required>\n                        <option value='' disabled>Select Option</option>\n                        <option value='Casual Leave'> Casual Leave </option>\n                        <option value='Sick Leave'> Sick Leave </option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"sl-item b-info\">\n                  <div className=\"sl-content\">\n                    <div className=\"sl-date text-muted\">No. of days</div>\n                    <div>\n                      {this.state.form_no_of_days}\n                    </div>\n                    <div>\n                      {apply_half_day_button_1}\n                      {apply_half_day_button_2}\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"sl-item b-warning\">\n                  <div className=\"sl-content\">\n                    <div className=\"sl-date text-muted\">Reason</div>\n                    <div><textarea  ref=\"reason\" onChange={() => this.setState({form_reason: this.refs.reason.value})} value={this.state.form_reason} /></div>\n                  </div>\n                </div>\n                {\n                  dateDiff > 0\n                   ? <div className=\"sl-item b-warning\">\n                      <div className=\"sl-content\">\n                        <div className=\"sl-date text-muted\">Reason For Late Applying</div>\n                        <div><input type=\"text\" onChange={(e) => this.setState({late_reason: e.target.value})} value={this.state.late_reason} required /></div>\n                        <div style={{marginTop: '10px', width: '63%', paddingLeft: '10px', background: 'blanchedalmond'}}>{policyLink}</div>\n                      </div>\n                    </div> : null\n                }\n                <div className=\"sl-item b-success\">\n                  <div className=\"sl-icon\">\n                    <i className=\"fa fa-check red\"></i>\n                  </div>\n                  <div className=\"sl-content\">\n                    <div className=\"sl-date text-muted\">Your leave ends on</div>\n                    <div>\n                      {this.state.form_to_date}\n                    </div>\n                  </div>\n                  <div className=\"col-sm-12 \" style={{display:'inline-grid'}} >\n                  <small >Send Document on Slack to Manish</small>\n                    <button type=\"button\"\n                      onClick={() =>  this.handleOpen()}\n                      className=\"btn btn-info btn-responsive btn-res col-xs-2\">{'Upload Leave Document'}\n                    </button>\n                    <small className=\"uploadnotic\" >* Upload file size should be less than 1 MB</small>\n                  </div>\n                </div>\n                <AddLeaveDocument \n                handleClose={this.handleClose}\n                open={this.state.open}\n              /> \n                </div>\n                <div className=\"form-group row m-t-md\">\n              <div className=\"col-xs-12 col-md-6 text-center\">\n                <Button type=\"submit\" className=\"green apply-leave-btn\" label=\"Apply\" />\n              </div>\n            </div>\n              </div>\n          </form>\n        </div>\n      </div>\n\n    );\n  }\n}\nApplyLeaveForm.propTypes = {\n  doApplyLeave: PropTypes.func.isRequired,\n  applyLeave:   PropTypes.shape({start_date: PropTypes.String, end_date: PropTypes.String})\n};\nexport default ApplyLeaveForm;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router';\nimport * as _ from 'lodash';\nimport {notify} from '../../../services/notify';\nimport Menu from '../../../components/generic/Menu';\nimport {isNotUserValid} from '../../../services/generic';\nimport {CONFIG} from '../../../config/index';\nimport UsersList from '../../../components/generic/UsersList';\nimport Header from '../../../components/generic/Header';\nimport UsersListHeader from '../../../components/generic/UsersListHeader';\nimport ApplyLeaveForm from '../../../modules/leave/components/applyLeave/ApplyLeaveForm';\nimport * as actions from '../../../redux/actions';\nimport * as actions_usersList from '../../../redux/generic/actions/usersList';\nimport * as actions_policy from '../../../redux/policyDocuments/actions/index';\nimport * as actions_apply_leave from '../../../redux/leave/actions/applyLeave';\nimport * as actions_manageLeave from \"../../../redux/leave/actions/manageLeave\";\n\nclass ApplyLeave extends React.Component {\n  constructor (props) {\n    super(props);\n    this.props.onIsAlreadyLogin();\n    this.state = {\n      'defaultUserDisplay':     '',\n      'selected_user_name':     '',\n      'selected_user_image':    '',\n      'selected_user_jobtitle': '',\n      'selected_user_id':       '',\n      'show_status_message':    true\n    };\n    this.onUserClick = this.onUserClick.bind(this);\n    this.doApplyLeave = this.doApplyLeave.bind(this);\n  }\n  componentWillMount () {\n    this.props.onFetchUserPolicyDocument();\n  }\n  componentWillReceiveProps (props) {\n    window.scrollTo(0, 0);\n    let isNotValid = isNotUserValid(this.props.location.pathname, props.loggedUser);\n    if (isNotValid.status) {\n      this.props.history.push(isNotValid.redirectTo);\n    }\n    if (props.loggedUser.data.role === CONFIG.ADMIN || props.loggedUser.data.role === CONFIG.HR) {\n      if (this.state.defaultUserDisplay === '') {\n        props.onUsersList();\n      }\n    }\n  }\n  componentDidUpdate () {\n    if (this.props.loggedUser.data.role === CONFIG.ADMIN || this.props.loggedUser.data.role === CONFIG.HR) {\n      if (this.state.defaultUserDisplay === '') {\n        if (this.props.usersList.users.length > 0) {\n          let firstUser = this.props.usersList.users[0];\n          let defaultUserId = firstUser.user_Id;\n          this.onUserClick(defaultUserId);\n        }\n      }\n    }\n  }\n  onUserClick (userid) {\n    let selected_user_name = '';\n    let selected_user_image = '';\n    let selected_user_jobtitle = '';\n    let selected_user_id = '';\n\n    if (this.props.usersList.users.length > 0) {\n      let userDetails = _.find(this.props.usersList.users, {'user_Id': userid});\n      if (typeof userDetails !== 'undefined') {\n        selected_user_name = userDetails.name;\n        selected_user_image = userDetails.slack_profile.image_192;\n        selected_user_jobtitle = userDetails.jobtitle;\n        selected_user_id = userDetails.user_Id;\n      }\n    }\n    this.setState({\n      'defaultUserDisplay':     userid,\n      'selected_user_name':     selected_user_name,\n      'selected_user_image':    selected_user_image,\n      'selected_user_jobtitle': selected_user_jobtitle,\n      'selected_user_id':       selected_user_id,\n      'show_status_message':    false\n    });\n  }\n  doApplyLeave (start, end, days, reason, userid, day_status, leaveType, late_reason) {\n    this.setState({show_status_message: true});\n    this.props.onApplyLeave(start, end, days, reason, userid, day_status, leaveType, late_reason).then((data) => {\n      notify('Success !', data, 'success');\n    }).catch((error) => {\n      notify('Error !', error, 'error');\n    });\n  }\n  \n  render () {\n    let status_message = '';\n    if (this.props.applyLeave.status_message !== '' && this.state.show_status_message === true) {\n      status_message = <span className=\"well\" style={{background: '#60cffa', padding: '5px', marginLeft: '8px'}}>\n        {this.props.applyLeave.status_message}</span>;\n    }\n\n    let mainDivs = (this.props.loggedUser.data.role === CONFIG.ADMIN || this.props.loggedUser.data.role === CONFIG.HR\n      ? <div className=\"row\">\n        <div className=\"col-sm-3 hidden-xs\" id=\"fixedScroll\">\n          <UsersList users={this.props.usersList.users} selectedUserId={this.state.selected_user_id} onUserClick={this.onUserClick} props={this.props} top={10} />\n        </div>\n        <div className=\"col-xs-12 col-sm-9\">\n          <div className=\"box\">\n            <div className=\"p-a text-center\">\n              <a href=\"\" className=\"text-md m-t block\">{this.state.selected_user_name}</a>\n              <p>\n                <small>{this.state.selected_user_jobtitle}</small>\n              </p>\n            </div>\n          </div>\n          <div className=\"box\">\n            <div className=\"box-body\">\n              <ApplyLeaveForm forAdmin doApplyLeave={this.doApplyLeave} selectedUserId={this.state.selected_user_id} {...this.props} />\n            </div>\n          </div>\n        </div>\n      </div>\n      : <div className=\"box\">\n        <div className=\"box-body\">\n          <ApplyLeaveForm doApplyLeave={this.doApplyLeave} forAdmin={false} {...this.props} />\n        </div>\n      </div>);\n\n    return (\n      <div >\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header pageTitle={'Apply Leave'} status={status_message} showLoading={this.props.frontend.show_loading} userListHeader />\n          <UsersListHeader users={this.props.usersList.users} selectedUserId={this.state.selected_user_id} onUserClick={this.onUserClick} />\n          <div className=\"app-body\" id=\"view\">\n            <div className=\"padding p-t-lg\">\n              {mainDivs}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nApplyLeave.styles = {\n  height100per: {\n    'minHeight': '150px'\n  }\n};\n\nfunction mapStateToProps (state) {\n  return {\n    frontend:        state.frontend.toJS(),\n    loggedUser:      state.logged_user.userLogin,\n    usersList:       state.usersList.toJS(),\n    applyLeave:      state.applyLeave.toJS(),\n    policyDocuments: state.policyDocuments.policyDocument\n  };\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onIsAlreadyLogin: () => {\n      return dispatch(actions.isAlreadyLogin());\n    },\n    onApplyLeave: (from_date, to_date, no_of_days, reason, userId, day_status, leaveType, late_reason) => {\n      return dispatch(actions_apply_leave.apply_leave(from_date, to_date, no_of_days, reason, userId, day_status, leaveType, late_reason));\n    },\n    onDaysBetweenLeaves: (startDate, endDate) => {\n      return dispatch(actions_apply_leave.getDaysBetweenLeaves(startDate, endDate));\n    },\n    onUsersList: () => {\n      return dispatch(actions_usersList.get_users_list());\n    },\n    onFetchUserPolicyDocument: () => {\n      return dispatch(actions.requestUserPolicyDocument());\n    },\n    onDocRequired: (leaveid, data, comment) => {\n      return dispatch(actions_manageLeave.docRequired(leaveid, data, comment));\n    }\n  };\n};\n\nconst VisibleApplyLeave = connect(mapStateToProps, mapDispatchToProps)(ApplyLeave);\n\nconst RouterVisibleApplyLeave = withRouter(VisibleApplyLeave);\n\nexport default RouterVisibleApplyLeave;\n","import {createAction} from 'redux-actions';\nimport * as _ from 'lodash';\nimport * as jwt from 'jwt-simple';\nimport {CONFIG} from '../../../config/index';\nimport {fireAjax} from '../../../services/index';\nimport * as constants from '../../../redux/constants';\nimport {show_loading, hide_loading} from '../../../redux/generic/actions/frontend';\n\nexport function list_leaves_sucess (data) {\n  return createAction(constants.ACTION_LIST_LEAVES_SUCCESS)(data);\n}\n\nexport function list_leaves_empty (data) {\n  return createAction(constants.ACTION_LIST_LEAVES_EMPTY)([]);\n}\n\nexport function list_leaves_error (err) {\n  return createAction(constants.ACTION_LIST_LEAVES_ERROR)('Error Occurs !!');\n}\n\nfunction async_getAllLeaves (from_date, to_date, no_of_days, reason) {\n  return fireAjax('POST', '', {\n    'action': 'get_all_leaves'\n  });\n}\n\nexport function getAllLeaves (role) {\n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_getAllLeaves().then(\n\t\t\t\t(json) => {\n  dispatch(hide_loading()); // hide loading icon\n  if (json.error == 0) {\n    dispatch(list_leaves_sucess(json.data));\n    resolve();\n  } else {\n    dispatch(list_leaves_error(json.data.message));\n  }\n},\n\t\t\t\t(error) => {\n  dispatch(hide_loading()); // hide loading icon\n  dispatch(list_leaves_error(error.data.message));\n}\n\t\t\t);\n    });\n  };\n}\n","import {createAction} from 'redux-actions';\nimport * as _ from 'lodash';\nimport * as jwt from 'jwt-simple';\nimport {CONFIG} from '../../../config/index';\nimport {fireAjax} from '../../../services/index';\nimport * as constants from '../../../redux/constants';\nimport {show_loading, hide_loading} from '../../../redux/generic/actions/frontend';\nimport * as actions_listLeaves from './listLeaves';\n\nexport function leave_status_change_success (data) {\n  return createAction(constants.ACTION_LEAVE_STATUS_CHANGE_SUCCESS)(data);\n}\n\nexport function leave_status_change_fail (data) {\n  return createAction(constants.ACTION_LEAVE_STATUS_CHANGE_FAIL)(data);\n}\n\nexport function leave_status_change_error (err) {\n  return createAction(constants.ACTION_LEAVE_STATUS_CHANGE_ERROR)(err);\n}\n\nfunction async_changeLeaveStatus (leaveid, newstatus, messagetouser) {\n  return fireAjax('POST', '', {\n    'action':        'change_leave_status',\n    'leaveid':       leaveid,\n    'newstatus':     newstatus,\n    'messagetouser': messagetouser\n  });\n}\n\nexport function changeLeaveStatus (leaveid, newstatus, messagetouser) {\n  return function (dispatch, getState) {\n    return new Promise((reslove, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_changeLeaveStatus(leaveid, newstatus, messagetouser).then(\n\t\t\t\t(json) => {\n  dispatch(hide_loading()); // hide loading icon\n  if (json.error == 0) {\n    dispatch(leave_status_change_success(json.data.message));\n    dispatch(actions_listLeaves.getAllLeaves());\n\t\t \t\t\t} else {\n\t\t \t\t\t\tdispatch(leave_status_change_fail(json.data.message));\n\t\t \t\t\t}\n},\n\t\t\t\t(error) => {\n  dispatch(hide_loading()); // hide loading icon\n  dispatch(leave_status_change_error('error occurs'));\n}\n\t\t\t);\n    });\n  };\n}\n\nfunction async_docRequired (leaveid, data, comment) {\n  return fireAjax('POST', '', {\n    'action':      'send_request_for_doc',\n    'leaveid':     leaveid,\n    'doc_request': data,\n    'comment':     comment\n  });\n}\n\nexport function docRequired (leaveid, data, comment) {\n  return function (dispatch, getState) {\n    return new Promise((reslove, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_docRequired(leaveid, data, comment).then(\n\t\t\t\t(json) => {\n  dispatch(hide_loading()); // hide loading icon\n  if (json.error == 0) {\n    dispatch(actions_listLeaves.getAllLeaves());\n  }\n},\n\t\t\t\t(error) => {\n  dispatch(actions_listLeaves.getAllLeaves());\n  dispatch(hide_loading()); // hide loading icon\n}\n\t\t\t);\n    });\n  };\n}\n\nfunction async_onAddExtraDay (leaveid, token, data) {\n  return fireAjax('POST', '', {\n    'action':    'add_extra_leave_day',\n    'leaveid':   leaveid,\n    'token':     token,\n    'extra_day': data\n  });\n}\n\nexport function onAddExtraDay (leaveid, token, data) {\n  return function (dispatch, getState) {\n    return new Promise((reslove, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_onAddExtraDay(leaveid, token, data).then(\n\t\t\t\t(json) => {\n  dispatch(hide_loading()); // hide loading icon\n  if (json.error == 0) {\n    dispatch(actions_listLeaves.getAllLeaves());\n\t\t \t\t\t}\n},\n\t\t\t\t(error) => {\n  dispatch(actions_listLeaves.getAllLeaves());\n  dispatch(hide_loading()); // hide loading icon\n}\n\t\t\t);\n    });\n  };\n}\n\nfunction async_onAddDescription (leaveid, hr, data) {\n  return fireAjax('POST', '', {\n    'action':     'add_hr_comment',\n    'leaveid':    leaveid,\n    'hr_comment': hr,\n    'hr_approve': data\n  });\n}\n\nexport function onAddDescription (leaveid, hr, data) {\n  return function (dispatch, getState) {\n    return new Promise((reslove, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_onAddDescription(leaveid, hr, data).then(\n\t\t\t\t(json) => {\n  reslove(json.data.leaveid);\n  dispatch(hide_loading()); // hide loading icon\n  if (json.error == 0) {\n    dispatch(actions_listLeaves.getAllLeaves());\n  }\n},\n\t\t\t\t(error) => {\n  dispatch(actions_listLeaves.getAllLeaves());\n  dispatch(hide_loading()); // hide loading icon\n}\n\t\t\t);\n    });\n  };\n}\n\nfunction async_leaveRevertRequest(leaveid, token) {\n  return fireAjax('POST', '', {\n    'action':    'revert_leave_status',\n    'leaveid':   leaveid,\n    'token':     token\n  });\n}\n\n\nexport function leaveRevertRequest (leaveid, token) {  \n  return function (dispatch, getState) {\n    return new Promise((resolve, reject) => {\n    dispatch(show_loading()); // show loading icon\n      async_leaveRevertRequest(leaveid, token).then(\n\t\t\t\t(json) => {\n          resolve(json);\n          dispatch(hide_loading()); // hide loading icon\n          if (json.error == 0) {\n            dispatch(actions_listLeaves.getAllLeaves());\n          }\n        },\n\t\t\t\t(error) => {\n          dispatch(actions_listLeaves.getAllLeaves());\n          dispatch(hide_loading()); // hide loading icon\n        }\n\t\t\t);\n    });\n  };\n}","import {createAction} from 'redux-actions';\nimport * as _ from 'lodash';\nimport * as jwt from 'jwt-simple';\nimport {CONFIG} from '../../../config/index';\nimport {fireAjax} from '../../../services/index';\nimport * as constants from '../../../redux/constants';\nimport {show_loading, hide_loading} from '../../../redux/generic/actions/frontend';\n\nexport function leave_sucess (data) {\n  return createAction(constants.ACTION_LEAVE_SUCCESS)(data);\n}\n\nexport function leave_fail (data) {\n  return createAction(constants.ACTION_LEAVE_FAIL)('Leave Apply Fail');\n}\n\nexport function leave_error (err) {\n  return createAction(constants.ACTION_LEAVE_ERROR)('Error Occurs !!');\n}\n\nfunction async_apply_leave (from_date, to_date, no_of_days, reason, day_status, leaveType, late_reason, pending_id, year, month, user_Id) {\n  return fireAjax('POST', '', {\n    'action':      'apply_leave',\n    'from_date':   from_date,\n    'to_date':     to_date,\n    'no_of_days':  no_of_days,\n    'reason':      reason,\n    'day_status':  day_status,\n    'leave_type':  leaveType,\n    'late_reason': late_reason,\n    'pending_id':  pending_id\n  });\n}\n\nfunction async_apply_employe_leave (from_date, to_date, no_of_days, reason, userId, day_status, leaveType, late_reason, pending_id, year, month) {\n  return fireAjax('POST', '', {\n    'action':      'admin_user_apply_leave',\n    'from_date':   from_date,\n    'to_date':     to_date,\n    'no_of_days':  no_of_days,\n    'reason':      reason,\n    'user_id':     userId,\n    'day_status':  day_status,\n    'leave_type':  leaveType,\n    'late_reason': late_reason,\n    'pending_id':  pending_id\n  });\n}\n\nexport function apply_leave (from_date, to_date, no_of_days, reason, userId, day_status, leaveType, late_reason, pending_id, year, month) {\n  return function (dispatch, getState) {\n    if (_.isEmpty(from_date)) {\n      return Promise.reject('From date is empty');\n    }\n    if (_.isEmpty(to_date)) {\n      return Promise.reject('To date is empty');\n    }\n    if (no_of_days == '') {\n      return Promise.reject('No of days is empty');\n    }\n    if (_.isEmpty(reason)) {\n      return Promise.reject('Reason is empty');\n    }\n\n    return new Promise((reslove, reject) => {\n      dispatch(show_loading()); // show loading icon\n      if (userId == '') {\n        async_apply_leave(from_date, to_date, no_of_days, reason, day_status, leaveType, late_reason, pending_id, year, month).then((json) => {\n          dispatch(hide_loading()); // hide loading icon\n          if (json.error == 0) {\n            dispatch(leave_sucess(json.data.message));\n          } else {\n            dispatch(leave_fail(json.data.message));\n          }\n        }, (error) => {\n          dispatch(hide_loading()); // hide loading icon\n          dispatch(leave_error('error occurs'));\n        }\n);\n      } else {\n        async_apply_employe_leave(from_date, to_date, no_of_days, reason, userId, day_status, leaveType, late_reason, pending_id, year, month).then(\n(json) => {\n  dispatch(hide_loading()); // hide loading icon\n  if (json.error == 0) {\n    reslove(json.data.message);\n    dispatch(leave_sucess(json.data.message));\n  } else {\n    dispatch(leave_fail(json.data.message));\n    reject(json.data.message);\n  }\n}, (error) => {\n          dispatch(hide_loading()); // hide loading icon\n          dispatch(leave_error('error occurs'));\n          reject('error occurs');\n        }\n);\n      }\n    });\n  };\n}\n\n// ------get days between leaves\n\nexport function days_between_leaves_sucess (data) {\n  return createAction(constants.ACTION_DAYS_BETWEEN_LEAVES_SUCCESS)(data);\n}\n\nexport function days_between_leaves_fail (data) {\n  return createAction(constants.ACTION_DAYS_BETWEEN_LEAVES_FAIL)(data);\n}\n\nexport function days_between_leaves_error (data) {\n  return createAction(constants.ACTION_DAYS_BETWEEN_LEAVES_ERROR)(data);\n}\n\nfunction async_getDaysBetweenLeaves (startDate, endDate) {\n  return fireAjax('POST', '', {\n    'action':     'get_days_between_leaves',\n    'start_date': startDate,\n    'end_date':   endDate\n  });\n}\n\nexport function getDaysBetweenLeaves (startDate, endDate) {\n  return function (dispatch, getState) {\n    return new Promise((reslove, reject) => {\n      dispatch(show_loading()); // show loading icon\n      async_getDaysBetweenLeaves(startDate, endDate).then(\n\t\t\t\t(json) => {\n  dispatch(hide_loading()); // hide loading icon\n  if (json.error == 0) {\n    dispatch(days_between_leaves_sucess(json.data));\n  } else {\n    dispatch(days_between_leaves_fail(json.data));\n  }\n},\n\t\t\t\t(error) => {\n  dispatch(hide_loading()); // hide loading icon\n  dispatch(days_between_leaves_error('error occurs'));\n}\n\t\t\t);\n    });\n  };\n}\n"],"sourceRoot":""}